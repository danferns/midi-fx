import{S as w,i as z,s as D,W as y,B as I,a as r,b as R,C as g,y as q,V as E,D as K,n as j,d as S,o as O,_ as T,c as A,j as V,e as B,f as N,m as P,l as W,t as F,g as G,h as H}from"./index.9537bdcf.js";import{c as J}from"./NodeUtil.de1e0169.js";import{b as Q}from"./MathUtil.63f01330.js";import"./NodeUI.ffd646b1.js";import{messageTypes as U}from"./filter.6a28075a.js";function X(e){let n,t,i,a,u,f=Math.round(e[0])+"",l,_,s,c,m,h,v;return{c(){n=y("svg"),t=y("circle"),i=y("path"),u=y("text"),l=I(f),_=I("%"),c=y("path"),r(t,"r",e[10]),r(t,"cx",e[2]),r(t,"cy",e[3]),r(t,"class","svelte-1evljki"),r(i,"class","arc svelte-1evljki"),r(i,"d",a="M "+e[5].x+" "+e[5].y+" A "+e[11]+" "+e[11]+" 0 "+e[7]+" 0 "+e[6].x+" "+e[6].y),r(i,"stroke-width",e[10]/12),r(u,"x",e[2]),r(u,"y",s=e[3]+e[10]*.15),r(u,"font-size",e[10]*.5),r(u,"class","svelte-1evljki"),r(c,"class","notch svelte-1evljki"),r(c,"d",m="M "+e[8].x+" "+e[8].y+" L "+e[9].x+" "+e[9].y),r(c,"stroke-width",e[10]/18),r(n,"height",e[10]*2.4),r(n,"width",e[10]*2.4),r(n,"class","svelte-1evljki")},m(o,p){R(o,n,p),g(n,t),g(n,i),g(n,u),g(u,l),g(u,_),g(n,c),e[14](n),h||(v=q(n,"contextmenu",E(e[15])),h=!0)},p(o,[p]){p&4&&r(t,"cx",o[2]),p&8&&r(t,"cy",o[3]),p&224&&a!==(a="M "+o[5].x+" "+o[5].y+" A "+o[11]+" "+o[11]+" 0 "+o[7]+" 0 "+o[6].x+" "+o[6].y)&&r(i,"d",a),p&1&&f!==(f=Math.round(o[0])+"")&&K(l,f),p&4&&r(u,"x",o[2]),p&8&&s!==(s=o[3]+o[10]*.15)&&r(u,"y",s),p&768&&m!==(m="M "+o[8].x+" "+o[8].y+" L "+o[9].x+" "+o[9].y)&&r(c,"d",m)},i:j,o:j,d(o){o&&S(n),e[14](null),h=!1,v()}}}function b(e,n,t,i){const a=(i-90)*Math.PI/180;return{x:e+t*Math.cos(a),y:n+t*Math.sin(a)}}function Y(e,n,t){let{size:i=24}=n,{percent:a=50}=n,{onReset:u=d=>d}=n,f;O(()=>{T(f).styleCursor(!1).draggable({listeners:{move:d=>{t(0,a=Q(a-25*d.dy/l,0,100))}}})});let l=i/2.4,_,s,c=l*1.1,m=210,h;_=l*1.2,s=l*1.2;let v,o,p,M,k;function C(d){A[d?"unshift":"push"](()=>{f=d,t(4,f)})}const L=()=>{t(0,a=u(a))};return e.$$set=d=>{"size"in d&&t(12,i=d.size),"percent"in d&&t(0,a=d.percent),"onReset"in d&&t(1,u=d.onReset)},e.$$.update=()=>{e.$$.dirty&1&&t(13,h=m+(360-m)*2*a/100),e.$$.dirty&8204&&t(5,v=b(_,s,c,h)),e.$$.dirty&12&&t(6,o=b(_,s,c,m)),e.$$.dirty&8192&&t(7,p=h-m>180?"1":"0"),e.$$.dirty&8204&&t(8,M=b(_,s,c*.65,h)),e.$$.dirty&8204&&t(9,k=b(_,s,c*.825,h))},[a,u,_,s,f,v,o,p,M,k,l,c,i,h,C,L]}class Z extends w{constructor(n){super(),z(this,n,Y,X,D,{size:12,percent:0,onReset:1})}}function x(e){let n,t,i,a;function u(l){e[4](l)}let f={size:120,onReset:$};return e[0].level!==void 0&&(f.percent=e[0].level),t=new Z({props:f}),A.push(()=>V(t,"percent",u)),{c(){n=B("div"),N(t.$$.fragment),r(n,"class","svelte-m6v5sx")},m(l,_){R(l,n,_),P(t,n,null),a=!0},p(l,[_]){const s={};!i&&_&1&&(i=!0,s.percent=l[0].level,W(()=>i=!1)),t.$set(s)},i(l){a||(F(t.$$.fragment,l),a=!0)},o(l){G(t.$$.fragment,l),a=!1},d(l){l&&S(n),H(t)}}}const re=`
    Scales the velocity of note on / off MIDI messages.
    `,$=()=>100;function ee(e,n,t){let{id:i}=n;const a={MIDI:(s,c,m)=>{if(U["Note On / Off"](s)){const h=Math.floor(m*f.level)/100;l("MIDI",s,c,h)}else l("MIDI",s,c,m)}},u={MIDI:new Set};let{state:f={level:100}}=n;const l=J(i,u);function _(s){e.$$.not_equal(f.level,s)&&(f.level=s,t(0,f))}return e.$$set=s=>{"id"in s&&t(1,i=s.id),"state"in s&&t(0,f=s.state)},[f,i,a,u,_]}class ae extends w{constructor(n){super(),z(this,n,ee,x,D,{id:1,inputs:2,outputs:3,state:0})}get inputs(){return this.$$.ctx[2]}get outputs(){return this.$$.ctx[3]}}export{ae as default,re as doc};

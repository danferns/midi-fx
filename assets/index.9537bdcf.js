var Hs=Object.defineProperty;var $s=(i,a,u)=>a in i?Hs(i,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[a]=u;var Xr=(i,a,u)=>($s(i,typeof a!="symbol"?a+"":a,u),u),si=(i,a,u)=>{if(!a.has(i))throw TypeError("Cannot "+u)};var Br=(i,a,u)=>(si(i,a,"read from private field"),u?u.call(i):a.get(i)),li=(i,a,u)=>{if(a.has(i))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(i):a.set(i,u)},ui=(i,a,u,s)=>(si(i,a,"write to private field"),s?s.call(i,u):a.set(i,u),u);const Js=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))s(p);new MutationObserver(p=>{for(const g of p)if(g.type==="childList")for(const h of g.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function u(p){const g={};return p.integrity&&(g.integrity=p.integrity),p.referrerpolicy&&(g.referrerPolicy=p.referrerpolicy),p.crossorigin==="use-credentials"?g.credentials="include":p.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function s(p){if(p.ep)return;p.ep=!0;const g=u(p);fetch(p.href,g)}};Js();function je(){}function Zs(i,a){for(const u in a)i[u]=a[u];return i}function Qs(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Fi(i){return i()}function ci(){return Object.create(null)}function dt(i){i.forEach(Fi)}function Ni(i){return typeof i=="function"}function Pe(i,a){return i!=i?a==a:i!==a||i&&typeof i=="object"||typeof i=="function"}function el(i){return Object.keys(i).length===0}function tl(i,...a){if(i==null)return je;const u=i.subscribe(...a);return u.unsubscribe?()=>u.unsubscribe():u}function qe(i,a,u){i.$$.on_destroy.push(tl(a,u))}function nl(i,a,u,s){if(i){const p=Vi(i,a,u,s);return i[0](p)}}function Vi(i,a,u,s){return i[1]&&s?Zs(u.ctx.slice(),i[1](s(a))):u.ctx}function rl(i,a,u,s){if(i[2]&&s){const p=i[2](s(u));if(a.dirty===void 0)return p;if(typeof p=="object"){const g=[],h=Math.max(a.dirty.length,p.length);for(let v=0;v<h;v+=1)g[v]=a.dirty[v]|p[v];return g}return a.dirty|p}return a.dirty}function ol(i,a,u,s,p,g){if(p){const h=Vi(a,u,s,g);i.p(h,p)}}function il(i){if(i.ctx.length>32){const a=[],u=i.ctx.length/32;for(let s=0;s<u;s++)a[s]=-1;return a}return-1}function dn(i,a,u){return i.set(u),a}function U(i,a){i.appendChild(a)}function ee(i,a,u){i.insertBefore(a,u||null)}function Q(i){i.parentNode.removeChild(i)}function rt(i,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].d(a)}function Z(i){return document.createElement(i)}function fi(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Te(i){return document.createTextNode(i)}function Ee(){return Te(" ")}function Bt(){return Te("")}function Me(i,a,u,s){return i.addEventListener(a,u,s),()=>i.removeEventListener(a,u,s)}function al(i){return function(a){return a.preventDefault(),i.call(this,a)}}function Mu(i){return function(a){return a.stopPropagation(),i.call(this,a)}}function G(i,a,u){u==null?i.removeAttribute(a):i.getAttribute(a)!==u&&i.setAttribute(a,u)}function Iu(i){return i===""?null:+i}function sl(i){return Array.from(i.childNodes)}function ft(i,a){a=""+a,i.wholeText!==a&&(i.data=a)}function Du(i,a){i.value=a==null?"":a}function Se(i,a,u,s){u===null?i.style.removeProperty(a):i.style.setProperty(a,u,s?"important":"")}function Au(i,a){for(let u=0;u<i.options.length;u+=1){const s=i.options[u];if(s.__value===a){s.selected=!0;return}}i.selectedIndex=-1}function Cu(i){const a=i.querySelector(":checked")||i.options[0];return a&&a.__value}let Jn;function ll(){if(Jn===void 0){Jn=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{Jn=!0}}return Jn}function ul(i,a){getComputedStyle(i).position==="static"&&(i.style.position="relative");const s=Z("iframe");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),s.setAttribute("aria-hidden","true"),s.tabIndex=-1;const p=ll();let g;return p?(s.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",g=Me(window,"message",h=>{h.source===s.contentWindow&&a()})):(s.src="about:blank",s.onload=()=>{g=Me(s.contentWindow,"resize",a)}),U(i,s),()=>{(p||g&&s.contentWindow)&&g(),Q(s)}}function Ft(i,a,u){i.classList[u?"add":"remove"](a)}function cl(i,a,{bubbles:u=!1,cancelable:s=!1}={}){const p=document.createEvent("CustomEvent");return p.initCustomEvent(i,u,s,a),p}let pn;function tt(i){pn=i}function gn(){if(!pn)throw new Error("Function called outside component initialization");return pn}function fl(i){gn().$$.before_update.push(i)}function Xi(i){gn().$$.on_mount.push(i)}function dl(i){gn().$$.on_destroy.push(i)}function pl(){const i=gn();return(a,u,{cancelable:s=!1}={})=>{const p=i.$$.callbacks[a];if(p){const g=cl(a,u,{cancelable:s});return p.slice().forEach(h=>{h.call(i,g)}),!g.defaultPrevented}return!0}}function vl(i,a){const u=i.$$.callbacks[a.type];u&&u.slice().forEach(s=>s.call(this,a))}const un=[],me=[],Qn=[],qr=[],Bi=Promise.resolve();let Ur=!1;function Yi(){Ur||(Ur=!0,Bi.then(Hr))}function di(){return Yi(),Bi}function tr(i){Qn.push(i)}function ct(i){qr.push(i)}const Yr=new Set;let Zn=0;function Hr(){const i=pn;do{for(;Zn<un.length;){const a=un[Zn];Zn++,tt(a),hl(a.$$)}for(tt(null),un.length=0,Zn=0;me.length;)me.pop()();for(let a=0;a<Qn.length;a+=1){const u=Qn[a];Yr.has(u)||(Yr.add(u),u())}Qn.length=0}while(un.length);for(;qr.length;)qr.pop()();Ur=!1,Yr.clear(),tt(i)}function hl(i){if(i.fragment!==null){i.update(),dt(i.before_update);const a=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,a),i.after_update.forEach(tr)}}const er=new Set;let kt;function Ie(){kt={r:0,c:[],p:kt}}function De(){kt.r||dt(kt.c),kt=kt.p}function F(i,a){i&&i.i&&(er.delete(i),i.i(a))}function B(i,a,u,s){if(i&&i.o){if(er.has(i))return;er.add(i),kt.c.push(()=>{er.delete(i),s&&(u&&i.d(1),s())}),i.o(a)}else s&&s()}function zu(i,a){const u=a.token={};function s(p,g,h,v){if(a.token!==u)return;a.resolved=v;let b=a.ctx;h!==void 0&&(b=b.slice(),b[h]=v);const P=p&&(a.current=p)(b);let T=!1;a.block&&(a.blocks?a.blocks.forEach((w,S)=>{S!==g&&w&&(Ie(),B(w,1,1,()=>{a.blocks[S]===w&&(a.blocks[S]=null)}),De())}):a.block.d(1),P.c(),F(P,1),P.m(a.mount(),a.anchor),T=!0),a.block=P,a.blocks&&(a.blocks[g]=P),T&&Hr()}if(Qs(i)){const p=gn();if(i.then(g=>{tt(p),s(a.then,1,a.value,g),tt(null)},g=>{if(tt(p),s(a.catch,2,a.error,g),tt(null),!a.hasCatch)throw g}),a.current!==a.pending)return s(a.pending,0),!0}else{if(a.current!==a.then)return s(a.then,1,a.value,i),!0;a.resolved=i}}function Ru(i,a,u){const s=a.slice(),{resolved:p}=i;i.current===i.then&&(s[i.value]=p),i.current===i.catch&&(s[i.error]=p),i.block.p(s,u)}function Be(i,a,u){const s=i.$$.props[a];s!==void 0&&(i.$$.bound[s]=u,u(i.$$.ctx[s]))}function de(i){i&&i.c()}function ce(i,a,u,s){const{fragment:p,on_mount:g,on_destroy:h,after_update:v}=i.$$;p&&p.m(a,u),s||tr(()=>{const b=g.map(Fi).filter(Ni);h?h.push(...b):dt(b),i.$$.on_mount=[]}),v.forEach(tr)}function fe(i,a){const u=i.$$;u.fragment!==null&&(dt(u.on_destroy),u.fragment&&u.fragment.d(a),u.on_destroy=u.fragment=null,u.ctx=[])}function gl(i,a){i.$$.dirty[0]===-1&&(un.push(i),Yi(),i.$$.dirty.fill(0)),i.$$.dirty[a/31|0]|=1<<a%31}function Ae(i,a,u,s,p,g,h,v=[-1]){const b=pn;tt(i);const P=i.$$={fragment:null,ctx:null,props:g,update:je,not_equal:p,bound:ci(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(b?b.$$.context:[])),callbacks:ci(),dirty:v,skip_bound:!1,root:a.target||b.$$.root};h&&h(P.root);let T=!1;if(P.ctx=u?u(i,a.props||{},(w,S,...k)=>{const j=k.length?k[0]:S;return P.ctx&&p(P.ctx[w],P.ctx[w]=j)&&(!P.skip_bound&&P.bound[w]&&P.bound[w](j),T&&gl(i,w)),S}):[],P.update(),T=!0,dt(P.before_update),P.fragment=s?s(P.ctx):!1,a.target){if(a.hydrate){const w=sl(a.target);P.fragment&&P.fragment.l(w),w.forEach(Q)}else P.fragment&&P.fragment.c();a.intro&&F(i.$$.fragment),ce(i,a.target,a.anchor,a.customElement),Hr()}tt(b)}class Ce{$destroy(){fe(this,1),this.$destroy=je}$on(a,u){const s=this.$$.callbacks[a]||(this.$$.callbacks[a]=[]);return s.push(u),()=>{const p=s.indexOf(u);p!==-1&&s.splice(p,1)}}$set(a){this.$$set&&!el(a)&&(this.$$.skip_bound=!0,this.$$set(a),this.$$.skip_bound=!1)}}const ml="modulepreload",pi={},yl="/midi-fx/",ge=function(a,u){return!u||u.length===0?a():Promise.all(u.map(s=>{if(s=`${yl}${s}`,s in pi)return;pi[s]=!0;const p=s.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${g}`))return;const h=document.createElement("link");if(h.rel=p?"stylesheet":ml,p||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),p)return new Promise((v,b)=>{h.addEventListener("load",v),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>a())};function bl(i){switch(i){case"../../svelte/nodes/analyze/cc-visualizer.svelte":return ge(()=>import("./cc-visualizer.43eda8a8.js"),["assets/cc-visualizer.43eda8a8.js","assets/cc-visualizer.cd512d48.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/NodeUtil.de1e0169.js","assets/NumericInput.39abe510.js","assets/NumericInput.dcb29537.css","assets/index.f5911502.js"]);case"../../svelte/nodes/analyze/chord-explorer.svelte":return ge(()=>import("./chord-explorer.8d0df1f9.js").then(function(a){return a.a}),["assets/chord-explorer.8d0df1f9.js","assets/chord-explorer.3e36b4de.css","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/note-splitter.0991ca8f.js"]);case"../../svelte/nodes/analyze/message-logger.svelte":return ge(()=>import("./message-logger.bea79c81.js"),["assets/message-logger.bea79c81.js","assets/NodeUtil.de1e0169.js","assets/HorizontalLayout.d975931d.js","assets/HorizontalLayout.f249ba28.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Table.803d8dcd.js","assets/Table.747f8eb9.css"]);case"../../svelte/nodes/filter/filter.svelte":return ge(()=>import("./filter.6a28075a.js"),["assets/filter.6a28075a.js","assets/filter.e4834aed.css","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css"]);case"../../svelte/nodes/filter/note-splitter.svelte":return ge(()=>import("./note-splitter.0991ca8f.js"),["assets/note-splitter.0991ca8f.js","assets/NodeUtil.de1e0169.js"]);case"../../svelte/nodes/interactive/chord-trainer.svelte":return ge(()=>import("./chord-trainer.b0133551.js"),["assets/chord-trainer.b0133551.js","assets/chord-trainer.bec331ba.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Table.803d8dcd.js","assets/Table.747f8eb9.css","assets/NodeUtil.de1e0169.js","assets/chord-explorer.8d0df1f9.js","assets/chord-explorer.3e36b4de.css","assets/note-splitter.0991ca8f.js"]);case"../../svelte/nodes/io/hand-tracker.svelte":return ge(()=>import("./hand-tracker.ec0c0817.js"),["assets/hand-tracker.ec0c0817.js","assets/hand-tracker.3bc09c31.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/NodeUtil.de1e0169.js","assets/MathUtil.63f01330.js"]);case"../../svelte/nodes/io/midi-input.svelte":return ge(()=>import("./midi-input.8389d32f.js"),["assets/midi-input.8389d32f.js","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/DropDown.0f3ed1b2.js","assets/DropDown.2e93b48c.css","assets/webmidi.esm.min.73462bb3.js"]);case"../../svelte/nodes/io/midi-output.svelte":return ge(()=>import("./midi-output.203c1bff.js"),["assets/midi-output.203c1bff.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/DropDown.0f3ed1b2.js","assets/DropDown.2e93b48c.css","assets/webmidi.esm.min.73462bb3.js"]);case"../../svelte/nodes/io/p2p-webrtc.svelte":return ge(()=>import("./p2p-webrtc.7023e70c.js"),["assets/p2p-webrtc.7023e70c.js","assets/p2p-webrtc.e594b3ae.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Title.c6515a67.js","assets/Title.77f157b6.css","assets/HorizontalLayout.d975931d.js","assets/HorizontalLayout.f249ba28.css","assets/NodeUtil.de1e0169.js"]);case"../../svelte/nodes/io/serial-input.svelte":return ge(()=>import("./serial-input.03768e3b.js"),["assets/serial-input.03768e3b.js","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Title.c6515a67.js","assets/Title.77f157b6.css","assets/DropDown.0f3ed1b2.js","assets/DropDown.2e93b48c.css"]);case"../../svelte/nodes/io/typing-keyboard.svelte":return ge(()=>import("./typing-keyboard.61c1e20f.js"),["assets/typing-keyboard.61c1e20f.js","assets/NodeUtil.de1e0169.js","assets/DropDown.0f3ed1b2.js","assets/DropDown.2e93b48c.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Title.c6515a67.js","assets/Title.77f157b6.css","assets/MathUtil.63f01330.js"]);case"../../svelte/nodes/io/virtual-piano.svelte":return ge(()=>import("./virtual-piano.27a6c57f.js"),["assets/virtual-piano.27a6c57f.js","assets/virtual-piano.9daf4d3e.css","assets/NodeUtil.de1e0169.js","assets/HorizontalLayout.d975931d.js","assets/HorizontalLayout.f249ba28.css","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Title.c6515a67.js","assets/Title.77f157b6.css","assets/note-splitter.0991ca8f.js","assets/MathUtil.63f01330.js"]);case"../../svelte/nodes/transform/channel-mapper.svelte":return ge(()=>import("./channel-mapper.c0180d57.js"),["assets/channel-mapper.c0180d57.js","assets/channel-mapper.9e9c8f1d.css","assets/index.f5911502.js","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css"]);case"../../svelte/nodes/transform/delay.svelte":return ge(()=>import("./delay.3980cdc6.js"),["assets/delay.3980cdc6.js","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/Title.c6515a67.js","assets/Title.77f157b6.css","assets/NumericInput.39abe510.js","assets/NumericInput.dcb29537.css"]);case"../../svelte/nodes/transform/scale.svelte":return ge(()=>import("./scale.dfc03a21.js"),["assets/scale.dfc03a21.js","assets/scale.1d8249fe.css","assets/NodeUtil.de1e0169.js","assets/MathUtil.63f01330.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/filter.6a28075a.js","assets/filter.e4834aed.css"]);case"../../svelte/nodes/transform/transpose.svelte":return ge(()=>import("./transpose.e2715ce0.js"),["assets/transpose.e2715ce0.js","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/NumericInput.39abe510.js","assets/NumericInput.dcb29537.css","assets/filter.6a28075a.js","assets/filter.e4834aed.css"]);case"../../svelte/nodes/transform/velocity-to-cc.svelte":return ge(()=>import("./velocity-to-cc.d5456f79.js"),["assets/velocity-to-cc.d5456f79.js","assets/NodeUtil.de1e0169.js","assets/NodeUI.ffd646b1.js","assets/NodeUI.f5e38ba6.css","assets/NumericInput.39abe510.js","assets/NumericInput.dcb29537.css","assets/note-splitter.0991ca8f.js"]);default:return new Promise(function(a,u){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+i)))})}}const Vt={io:{"midi-input":"External Input","midi-output":"External Output","typing-keyboard":"Typing Keyboard","serial-input":"Serial Input","virtual-piano":"Virtual Piano","p2p-webrtc":"Peer To Peer","hand-tracker":"Hand Tracker"},filter:{filter:"Filter","note-splitter":"Note Splitter"},transform:{delay:"Delay",transpose:"Transpose",scale:"Scale","channel-mapper":"Channel Mapper","velocity-to-cc":"Velocity to CC"},analyze:{"chord-explorer":"Chord Explorer","cc-visualizer":"CC Visualizer","message-logger":"Message Logger"},interactive:{"chord-trainer":"Chord Trainer"}};async function Wi(i){for(const a of Object.keys(Vt))if(Object.keys(Vt[a]).includes(i))return await bl(`../../svelte/nodes/${a}/${i}.svelte`);throw`Node '${i}' not found.`}function vi(i){for(const a of Object.keys(Vt))if(Object.keys(Vt[a]).includes(i))return Vt[a][i];throw`Node '${i}' not found.`}const Nt=[];function jt(i,a=je){let u;const s=new Set;function p(v){if(Pe(i,v)&&(i=v,u)){const b=!Nt.length;for(const P of s)P[1](),Nt.push(P,i);if(b){for(let P=0;P<Nt.length;P+=2)Nt[P][0](Nt[P+1]);Nt.length=0}}}function g(v){p(v(i))}function h(v,b=je){const P=[v,b];return s.add(P),s.size===1&&(u=a(p)||je),v(i),()=>{s.delete(P),s.size===0&&(u(),u=null)}}return{set:p,update:g,subscribe:h}}let $r={};const ke=jt();ke.set({});ke.subscribe(i=>{$r=i});async function qi(i,a,u,s=void 0){const p=await Wi(a);ke.update(g=>(g[i]={type:a,component:p.default,inputs:{},outputs:{},x:u[0],y:u[1],state:s},g))}async function _l(i,a=[0,0]){const u=Object.keys($r);for(let s=1;s<=u.length+1;s++){const p="midi-node-"+s.toString();if(!u.includes(p)){await qi(p,i,a);return}}}function wl(i){ke.update(a=>{for(const u of Object.values(a))for(const s of Object.values(u.outputs))for(const p of s.connections)p[0]===i&&s.connections.delete(p);return delete a[i],a})}function Ui(i,a,u){ke.update(s=>{const p=s[i].outputs[a],g=s[u[0]].inputs[u[1]].node;for(const h of p.connections)if(h[0]===u[0]&&h[1]===u[1])return s;return p.connections.add(u),p.node.add(g),s})}function Ol(i,a,u){ke.update(s=>{const p=s[i].outputs[a],g=s[u[0]].inputs[u[1]];for(const h of p.connections)h[0]===u[0]&&h[1]===u[1]&&p.connections.delete(h);for(const h of p.node)h===g.node&&p.node.delete(h);return s})}async function nr(i){ke.set({});for(const[a,u]of Object.entries(i))await qi(a,u.type,u.position,u.state);for(const[a,u]of Object.entries(i))for(const[s,p]of Object.entries(u.connections))for(const g of p)Ui(a,s,g)}function Gi(){var a,u;const i={};for(const[s,p]of Object.entries($r)){i[s]={type:p.type,position:[p.x,p.y],connections:{},state:p.state};for(const[g,h]of Object.entries(p.outputs))for(const v of h.connections.values())((u=(a=i[s].connections)[g])!=null?u:a[g]=[]).push(v)}return i}function Pl(i){let a,u,s,p;return{c(){a=fi("svg"),u=fi("path"),G(u,"stroke",s="hsl(0 0% "+i[4]*100+"%)"),G(u,"stroke-width","4px"),G(u,"stroke-linecap","round"),G(u,"fill","transparent"),G(u,"d",p="M "+i[0]+" "+i[1]+" C "+(i[0]+Math.abs(i[0]-i[2])/4)+" "+i[1]+", "+(i[0]+i[2])/2+" "+(i[1]+i[3])/2+", "+(i[0]+i[2])/2+" "+(i[1]+i[3])/2+" S "+(i[2]-Math.abs(i[0]-i[2])/4)+" "+i[3]+" "+i[2]+" "+i[3]),G(a,"class","svelte-1c5snmk")},m(g,h){ee(g,a,h),U(a,u)},p(g,[h]){h&16&&s!==(s="hsl(0 0% "+g[4]*100+"%)")&&G(u,"stroke",s),h&15&&p!==(p="M "+g[0]+" "+g[1]+" C "+(g[0]+Math.abs(g[0]-g[2])/4)+" "+g[1]+", "+(g[0]+g[2])/2+" "+(g[1]+g[3])/2+", "+(g[0]+g[2])/2+" "+(g[1]+g[3])/2+" S "+(g[2]-Math.abs(g[0]-g[2])/4)+" "+g[3]+" "+g[2]+" "+g[3])&&G(u,"d",p)},i:je,o:je,d(g){g&&Q(a)}}}function xl(i,a,u){let{x1:s=0}=a,{y1:p=100}=a,{x2:g=100}=a,{y2:h=0}=a,{active:v=!1}=a,b=.7,P=!1;fl(()=>{v===!0&&(u(4,b=1),P||(P=!0,T()))});function T(){b>.7?(u(4,b=Math.max(b-.015,.7)),requestAnimationFrame(T)):P=!1}return i.$$set=w=>{"x1"in w&&u(0,s=w.x1),"y1"in w&&u(1,p=w.y1),"x2"in w&&u(2,g=w.x2),"y2"in w&&u(3,h=w.y2),"active"in w&&u(5,v=w.active)},[s,p,g,h,b,v]}class Ki extends Ce{constructor(a){super(),Ae(this,a,xl,Pl,Pe,{x1:0,y1:1,x2:2,y2:3,active:5})}}const vn=jt(0),hn=jt(0),mn=jt(1),nt={scale:1,translateX:0,translateY:0};vn.subscribe(i=>{nt.translateX=i});hn.subscribe(i=>{nt.translateY=i});mn.subscribe(i=>{nt.scale=i});function Hi(){return nt}function yn(i){vn.set(i.translateX),hn.set(i.translateY),mn.set(i.scale)}function hi(i,a){if(i>.3&&i<3){const u=nt;yn({translateX:a.x-(a.x-u.translateX)*i/u.scale,translateY:a.y-(a.y-u.translateY)*i/u.scale,scale:i})}}function gi({x:i,y:a}){return{x:(i-nt.translateX)/nt.scale,y:(a-nt.translateY)/nt.scale}}function mi(i){let a,u;return a=new Ki({props:{x1:i[0][i[1].from[0]].outputs[i[1].from[1]].x,y1:i[0][i[1].from[0]].outputs[i[1].from[1]].y,x2:(i[2]-i[4])/i[5],y2:(i[3]-i[6])/i[5]}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&3&&(g.x1=s[0][s[1].from[0]].outputs[s[1].from[1]].x),p&3&&(g.y1=s[0][s[1].from[0]].outputs[s[1].from[1]].y),p&52&&(g.x2=(s[2]-s[4])/s[5]),p&104&&(g.y2=(s[3]-s[6])/s[5]),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function El(i){let a,u,s,p,g=i[1].from&&mi(i);return{c(){g&&g.c(),a=Bt()},m(h,v){g&&g.m(h,v),ee(h,a,v),u=!0,s||(p=[Me(window,"pointermove",i[8]),Me(window,"mouseup",i[7]),Me(window,"blur",i[7])],s=!0)},p(h,[v]){h[1].from?g?(g.p(h,v),v&2&&F(g,1)):(g=mi(h),g.c(),F(g,1),g.m(a.parentNode,a)):g&&(Ie(),B(g,1,1,()=>{g=null}),De())},i(h){u||(F(g),u=!0)},o(h){B(g),u=!1},d(h){g&&g.d(h),h&&Q(a),s=!1,dt(p)}}}const cn=jt({from:void 0});function Sl(i,a,u){let s,p,g;qe(i,vn,S=>u(4,s=S)),qe(i,mn,S=>u(5,p=S)),qe(i,hn,S=>u(6,g=S));let h;ke.subscribe(S=>{u(0,h=S)});let v;cn.subscribe(S=>{u(1,v=S)});let b,P;function T(){v.from&&cn.update(S=>(S.from=void 0,S))}return[h,v,b,P,s,p,g,T,S=>{u(2,b=S.clientX),u(3,P=S.clientY)}]}class kl extends Ce{constructor(a){super(),Ae(this,a,Sl,El,Pe,{})}}function jl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $i={exports:{}};(function(i,a){(function(u){i.exports=u()})(function(){var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0,u.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.getWindow=function(e){return(0,u.default)(e)?e:(e.ownerDocument||e).defaultView||g.window},s.init=h,s.window=s.realWindow=void 0;var p=void 0;s.realWindow=p;var g=void 0;function h(e){s.realWindow=p=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),s.window=g=e}s.window=g,typeof window!="undefined"&&window&&h(window);var v={};function b(e){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(e)}Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var P=function(e){return!!e&&b(e)==="object"},T=function(e){return typeof e=="function"},w={window:function(e){return e===s.window||(0,u.default)(e)},docFrag:function(e){return P(e)&&e.nodeType===11},object:P,func:T,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||b(e)!=="object")return!1;var t=s.getWindow(e)||s.window;return/object|function/.test(typeof Element=="undefined"?"undefined":b(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return P(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return P(e)&&e.length!==void 0&&T(e.splice)}};v.default=w;var S={};function k(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function j(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;if(r==="x"||r==="y"){var o=r==="x"?"y":"x";t.page[o]=n.coords.start.page[o],t.client[o]=n.coords.start.client[o],t.delta[o]=0}}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var X={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=X.draggable,t.map.drag=X,t.methodDict.drag="draggable",r.actions.drag=X.defaults},listeners:{"interactions:before-action-move":k,"interactions:action-resume":k,"interactions:action-move":j,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,o=n.options.drag;if(o&&o.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(r&n.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(e){return v.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):v.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:k,move:j,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},pe=X;S.default=pe;var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var $={init:function(e){var t=e;$.document=t.document,$.DocumentFragment=t.DocumentFragment||ve,$.SVGElement=t.SVGElement||ve,$.SVGSVGElement=t.SVGSVGElement||ve,$.SVGElementInstance=t.SVGElementInstance||ve,$.Element=t.Element||ve,$.HTMLElement=t.HTMLElement||$.Element,$.Event=t.Event,$.Touch=t.Touch||ve,$.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ve(){}var ze=$;W.default=ze;var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var le={init:function(e){var t=W.default.Element,n=e.navigator||{};le.supportsTouch="ontouchstart"in e||v.default.func(e.DocumentTouch)&&W.default.document instanceof e.DocumentTouch,le.supportsPointerEvent=n.pointerEnabled!==!1&&!!W.default.PointerEvent,le.isIOS=/iP(hone|od|ad)/.test(n.platform),le.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),le.isIe9=/MSIE 9/.test(n.userAgent),le.isOperaMobile=n.appName==="Opera"&&le.supportsTouch&&/Presto/.test(n.userAgent),le.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",le.pEventTypes=le.supportsPointerEvent?W.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,le.wheelEvent=W.default.document&&"onmousewheel"in W.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},pt=le;ue.default=pt;var N={};function ie(e){var t=e.parentNode;if(v.default.docFrag(t)){for(;(t=t.host)&&v.default.docFrag(t););return t}return t}function ot(e,t){return s.window!==s.realWindow&&(t=t.replace(/\/deep\//g," ")),e[ue.default.prefixedMatchesSelector](t)}Object.defineProperty(N,"__esModule",{value:!0}),N.closest=function(e,t){for(;v.default.element(e);){if(ot(e,t))return e;e=ie(e)}return null},N.getActualElement=function(e){return e.correspondingUseElement||e},N.getElementClientRect=gt,N.getElementRect=function(e){var t=gt(e);if(!ue.default.isIOS7&&t){var n=ht(s.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},N.getPath=function(e){for(var t=[];e;)t.push(e),e=ie(e);return t},N.getScrollXY=ht,N.indexOfDeepestElement=function(e){for(var t,n=[],r=0;r<e.length;r++){var o=e[r],l=e[t];if(o&&r!==t)if(l){var d=it(o),c=it(l);if(d!==o.ownerDocument)if(c!==o.ownerDocument)if(d!==c){n=n.length?n:vt(l);var f=void 0;if(l instanceof W.default.HTMLElement&&o instanceof W.default.SVGElement&&!(o instanceof W.default.SVGSVGElement)){if(o===c)continue;f=o.ownerSVGElement}else f=o;for(var m=vt(f,l.ownerDocument),y=0;m[y]&&m[y]===n[y];)y++;var _=[m[y-1],m[y],n[y]];if(_[0])for(var x=_[0].lastChild;x;){if(x===_[1]){t=r,n=m;break}if(x===_[2])break;x=x.previousSibling}}else E=o,O=l,(parseInt(s.getWindow(E).getComputedStyle(E).zIndex,10)||0)>=(parseInt(s.getWindow(O).getComputedStyle(O).zIndex,10)||0)&&(t=r);else t=r}else t=r}var E,O;return t},N.matchesSelector=ot,N.matchesUpTo=function(e,t,n){for(;v.default.element(e);){if(ot(e,t))return!0;if((e=ie(e))===n)return ot(e,t)}return!1},N.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},N.parentNode=ie,N.trySelector=function(e){return!!v.default.string(e)&&(W.default.document.querySelector(e),!0)};var it=function(e){return e.parentNode||e.host};function vt(e,t){for(var n,r=[],o=e;(n=it(o))&&o!==t&&n!==o.ownerDocument;)r.unshift(o),o=n;return r}function ht(e){return{x:(e=e||s.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function gt(e){var t=e instanceof W.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(e,t){for(var n in t)e[n]=t[n];return e};var D={};function Ve(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n){return e==="parent"?(0,N.parentNode)(n):e==="self"?t.getRect(n):(0,N.closest)(n,e)}Object.defineProperty(D,"__esModule",{value:!0}),D.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},D.getStringOptionResult=ye,D.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},D.resolveRectLike=function(e,t,n,r){var o,l=e;return v.default.string(l)?l=ye(l,t,n):v.default.func(l)&&(l=l.apply(void 0,function(d){if(Array.isArray(d))return Ve(d)}(o=r)||function(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(o)||function(d,c){if(d){if(typeof d=="string")return Ve(d,c);var f=Object.prototype.toString.call(d).slice(8,-1);return f==="Object"&&d.constructor&&(f=d.constructor.name),f==="Map"||f==="Set"?Array.from(d):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?Ve(d,c):void 0}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),v.default.element(l)&&(l=(0,N.getElementRect)(l)),l},D.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,z.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},D.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,z.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(e,t,n){var r=e.options[n],o=r&&r.origin||e.options.origin,l=(0,D.resolveRectLike)(o,e,t,[e&&t]);return(0,D.rectToXY)(l)||{x:0,y:0}};var H={};function Ue(e){return e.trim().split(/ +/)}Object.defineProperty(H,"__esModule",{value:!0}),H.default=function e(t,n,r){if(r=r||{},v.default.string(t)&&t.search(" ")!==-1&&(t=Ue(t)),v.default.array(t))return t.reduce(function(f,m){return(0,z.default)(f,e(m,n,r))},r);if(v.default.object(t)&&(n=t,t=""),v.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(v.default.array(n))for(var o=0;o<n.length;o++){var l;l=n[o],e(t,l,r)}else if(v.default.object(n))for(var d in n){var c=Ue(d).map(function(f){return"".concat(t).concat(f)});e(c,n[d],r)}return r};var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0,Oe.default=function(e,t){return Math.sqrt(e*e+t*t)};var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=function(e,t){e.__set||(e.__set={});var n=function(o){typeof e[o]!="function"&&o!=="__set"&&Object.defineProperty(e,o,{get:function(){return o in e.__set?e.__set[o]:e.__set[o]=t[o]},set:function(l){e.__set[o]=l},configurable:!0})};for(var r in t)n(r);return e};var R={};function rr(e){return e instanceof W.default.Event||e instanceof W.default.Touch}function Yt(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function Qr(e,t){return t=t||{x:0,y:0},ue.default.isOperaMobile&&rr(e)?(Yt("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Yt("page",e,t),t}function eo(e,t){return t=t||{},ue.default.isOperaMobile&&rr(e)?Yt("screen",e,t):Yt("client",e,t),t}function bn(e){var t=[];return v.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function to(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var o in t)t[o]+=r[o]}for(var l in t)t[l]/=e.length;return t}Object.defineProperty(R,"__esModule",{value:!0}),R.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},R.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},R.getClientXY=eo,R.getEventTargets=function(e){var t=v.default.func(e.composedPath)?e.composedPath():e.path;return[N.getActualElement(t?t[0]:e.target),N.getActualElement(e.currentTarget)]},R.getPageXY=Qr,R.getPointerId=function(e){return v.default.number(e.pointerId)?e.pointerId:e.identifier},R.getPointerType=function(e){return v.default.string(e.pointerType)?e.pointerType:v.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof W.default.Touch?"touch":"mouse"},R.getTouchPair=bn,R.getXY=Yt,R.isNativePointer=rr,R.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},R.pointerAverage=to,Object.defineProperty(R,"pointerExtend",{enumerable:!0,get:function(){return Ge.default}}),R.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},R.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},R.setCoords=function(e,t,n){var r=t.length>1?to(t):t[0];Qr(r,e.page),eo(r,e.client),e.timeStamp=n},R.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},R.touchAngle=function(e,t){var n=t+"X",r=t+"Y",o=bn(e),l=o[1][n]-o[0][n],d=o[1][r]-o[0][r];return 180*Math.atan2(d,l)/Math.PI},R.touchBBox=function(e){if(!e.length)return null;var t=bn(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),l=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:l,width:o-n,height:l-r}},R.touchDistance=function(e,t){var n=t+"X",r=t+"Y",o=bn(e),l=o[0][n]-o[1][n],d=o[0][r]-o[1][r];return(0,Oe.default)(l,d)};var Tt={};function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.BaseEvent=void 0;var ro=function(){function e(r){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),no(this,"immediatePropagationStopped",!1),no(this,"propagationStopped",!1),this._interaction=r}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&oa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Tt.BaseEvent=ro,Object.defineProperty(ro.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.remove=te.merge=te.from=te.findIndex=te.find=te.contains=void 0,te.contains=function(e,t){return e.indexOf(t)!==-1},te.remove=function(e,t){return e.splice(e.indexOf(t),1)};var oo=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};te.merge=oo,te.from=function(e){return oo([],e)};var io=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};te.findIndex=io,te.find=function(e,t){return e[io(e,t)]};var Ke={};function or(e){return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ir(e,t)}function aa(e,t){if(t&&(or(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}function mt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.DropEvent=void 0;var sa=function(e){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&ir(c,f)})(d,e);var t,n,r,o,l=(r=d,o=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,f=_n(r);if(o){var m=_n(this).constructor;c=Reflect.construct(f,arguments,m)}else c=f.apply(this,arguments);return aa(this,c)});function d(c,f,m){var y;(function(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")})(this,d),Mt(mt(y=l.call(this,f._interaction)),"dropzone",void 0),Mt(mt(y),"dragEvent",void 0),Mt(mt(y),"relatedTarget",void 0),Mt(mt(y),"draggable",void 0),Mt(mt(y),"propagationStopped",!1),Mt(mt(y),"immediatePropagationStopped",!1);var _=m==="dragleave"?c.prev:c.cur,x=_.element,E=_.dropzone;return y.type=m,y.target=x,y.currentTarget=x,y.dropzone=E,y.dragEvent=f,y.relatedTarget=f.target,y.draggable=f.interactable,y.timeStamp=f.timeStamp,y}return t=d,(n=[{key:"reject",value:function(){var c=this,f=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&f.cur.dropzone===this.dropzone&&f.cur.element===this.target)if(f.prev.dropzone=this.dropzone,f.prev.element=this.target,f.rejected=!0,f.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var m=f.activeDrops,y=te.findIndex(m,function(x){var E=x.dropzone,O=x.element;return E===c.dropzone&&O===c.target});f.activeDrops.splice(y,1);var _=new d(f,this.dragEvent,"dropdeactivate");_.dropzone=this.dropzone,_.target=this.target,this.dropzone.fire(_)}else this.dropzone.fire(new d(f,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&ia(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(Tt.BaseEvent);Ke.DropEvent=sa;var wn={};function ao(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],o=r.dropzone,l=r.element;t.dropzone=o,t.target=l,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function ar(e,t){for(var n=function(l,d){for(var c=l.interactables,f=[],m=0;m<c.list.length;m++){var y=c.list[m];if(y.options.drop.enabled){var _=y.options.drop.accept;if(!(v.default.element(_)&&_!==d||v.default.string(_)&&!N.matchesSelector(d,_)||v.default.func(_)&&!_({dropzone:y,draggableElement:d})))for(var x=v.default.string(y.target)?y._context.querySelectorAll(y.target):v.default.array(y.target)?y.target:[y.target],E=0;E<x.length;E++){var O=x[E];O!==d&&f.push({dropzone:y,element:O,rect:y.getRect(O)})}}}return f}(e,t),r=0;r<n.length;r++){var o=n[r];o.rect=o.dropzone.getRect(o.element)}return n}function so(e,t,n){for(var r=e.dropState,o=e.interactable,l=e.element,d=[],c=0;c<r.activeDrops.length;c++){var f=r.activeDrops[c],m=f.dropzone,y=f.element,_=f.rect;d.push(m.dropCheck(t,n,o,l,y,_)?y:null)}var x=N.indexOfDeepestElement(d);return r.activeDrops[x]||null}function sr(e,t,n){var r=e.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(o.activate=new Ke.DropEvent(r,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),n.type==="dragend"&&(o.deactivate=new Ke.DropEvent(r,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new Ke.DropEvent(r,n,"dragleave"),n.dragLeave=o.leave.target=r.prev.element,n.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new Ke.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),n.type==="dragend"&&r.cur.dropzone&&(o.drop=new Ke.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),n.type==="dragmove"&&r.cur.dropzone&&(o.move=new Ke.DropEvent(r,n,"dropmove"),o.move.dragmove=n,n.dropzone=r.cur.dropzone)),o}function lr(e,t){var n=e.dropState,r=n.activeDrops,o=n.cur,l=n.prev;t.leave&&l.dropzone.fire(t.leave),t.enter&&o.dropzone.fire(t.enter),t.move&&o.dropzone.fire(t.move),t.drop&&o.dropzone.fire(t.drop),t.deactivate&&ao(r,t.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function lo(e,t){var n=e.interaction,r=e.iEvent,o=e.event;if(r.type==="dragmove"||r.type==="dragend"){var l=n.dropState;t.dynamicDrop&&(l.activeDrops=ar(t,n.element));var d=r,c=so(n,d,o);l.rejected=l.rejected&&!!c&&c.dropzone===l.cur.dropzone&&c.element===l.cur.element,l.cur.dropzone=c&&c.dropzone,l.cur.element=c&&c.element,l.events=sr(n,0,d)}}Object.defineProperty(wn,"__esModule",{value:!0}),wn.default=void 0;var uo={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,o=e.defaults;e.usePlugin(S.default),r.prototype.dropzone=function(l){return function(d,c){if(v.default.object(c)){if(d.options.drop.enabled=c.enabled!==!1,c.listeners){var f=(0,H.default)(c.listeners),m=Object.keys(f).reduce(function(y,_){return y[/^(enter|leave)/.test(_)?"drag".concat(_):/^(activate|deactivate|move)/.test(_)?"drop".concat(_):_]=f[_],y},{});d.off(d.options.drop.listeners),d.on(m),d.options.drop.listeners=m}return v.default.func(c.ondrop)&&d.on("drop",c.ondrop),v.default.func(c.ondropactivate)&&d.on("dropactivate",c.ondropactivate),v.default.func(c.ondropdeactivate)&&d.on("dropdeactivate",c.ondropdeactivate),v.default.func(c.ondragenter)&&d.on("dragenter",c.ondragenter),v.default.func(c.ondragleave)&&d.on("dragleave",c.ondragleave),v.default.func(c.ondropmove)&&d.on("dropmove",c.ondropmove),/^(pointer|center)$/.test(c.overlap)?d.options.drop.overlap=c.overlap:v.default.number(c.overlap)&&(d.options.drop.overlap=Math.max(Math.min(1,c.overlap),0)),"accept"in c&&(d.options.drop.accept=c.accept),"checker"in c&&(d.options.drop.checker=c.checker),d}return v.default.bool(c)?(d.options.drop.enabled=c,d):d.options.drop}(this,l)},r.prototype.dropCheck=function(l,d,c,f,m,y){return function(_,x,E,O,M,A,I){var L=!1;if(!(I=I||_.getRect(A)))return!!_.options.drop.checker&&_.options.drop.checker(x,E,L,_,A,O,M);var V=_.options.drop.overlap;if(V==="pointer"){var q=(0,C.default)(O,M,"drag"),J=R.getPageXY(x);J.x+=q.x,J.y+=q.y;var oe=J.x>I.left&&J.x<I.right,K=J.y>I.top&&J.y<I.bottom;L=oe&&K}var re=O.getRect(M);if(re&&V==="center"){var Ne=re.left+re.width/2,et=re.top+re.height/2;L=Ne>=I.left&&Ne<=I.right&&et>=I.top&&et<=I.bottom}return re&&v.default.number(V)&&(L=Math.max(0,Math.min(I.right,re.right)-Math.max(I.left,re.left))*Math.max(0,Math.min(I.bottom,re.bottom)-Math.max(I.top,re.top))/(re.width*re.height)>=V),_.options.drop.checker&&(L=_.options.drop.checker(x,E,L,_,A,O,M)),L}(this,l,d,c,f,m,y)},n.dynamicDrop=function(l){return v.default.bool(l)?(e.dynamicDrop=l,n):e.dynamicDrop},(0,z.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=uo.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if(n.prepared.name==="drag"){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=ar(t,n.element),o.events=sr(n,0,r),o.events.activate&&(ao(o.activeDrops,o.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":lo,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;n.prepared.name==="drag"&&(lr(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,r=e.iEvent;lo(e,t),lr(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:ar,getDrop:so,getDropEvents:sr,fireDropEvents:lr,defaults:{enabled:!1,accept:null,overlap:"pointer"}},la=uo;wn.default=la;var On={};function ur(e){var t=e.interaction,n=e.iEvent,r=e.phase;if(t.prepared.name==="gesture"){var o=t.pointers.map(function(m){return m.pointer}),l=r==="start",d=r==="end",c=t.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],l)n.distance=R.touchDistance(o,c),n.box=R.touchBBox(o),n.scale=1,n.ds=0,n.angle=R.touchAngle(o,c),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(d){var f=t.prevEvent;n.distance=f.distance,n.box=f.box,n.scale=f.scale,n.ds=0,n.angle=f.angle,n.da=0}else n.distance=R.touchDistance(o,c),n.box=R.touchBBox(o),n.scale=n.distance/t.gesture.startDistance,n.angle=R.touchAngle(o,c),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,v.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(On,"__esModule",{value:!0}),On.default=void 0;var cr={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(o){return v.default.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):v.default.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},t.map.gesture=cr,t.methodDict.gesture="gesturable",r.actions.gesture=cr.defaults},listeners:{"interactions:action-start":ur,"interactions:action-move":ur,"interactions:action-end":ur,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},ua=cr;On.default=ua;var Pn={};function ca(e,t,n,r,o,l,d){if(!t)return!1;if(t===!0){var c=v.default.number(l.width)?l.width:l.right-l.left,f=v.default.number(l.height)?l.height:l.bottom-l.top;if(d=Math.min(d,Math.abs((e==="left"||e==="right"?c:f)/2)),c<0&&(e==="left"?e="right":e==="right"&&(e="left")),f<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var m=c>=0?l.left:l.right;return n.x<m+d}if(e==="top"){var y=f>=0?l.top:l.bottom;return n.y<y+d}if(e==="right")return n.x>(c>=0?l.right:l.left)-d;if(e==="bottom")return n.y>(f>=0?l.bottom:l.top)-d}return!!v.default.element(r)&&(v.default.element(t)?t===r:N.matchesUpTo(r,t,o))}function co(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var r=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,n.resizeAxes==="x"?r.delta.y=0:n.resizeAxes==="y"&&(r.delta.x=0))}}Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.default=void 0;var He={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,o=e.defaults;He.cursors=function(l){return l.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),He.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(l){return function(d,c,f){return v.default.object(c)?(d.options.resize.enabled=c.enabled!==!1,d.setPerAction("resize",c),d.setOnEvents("resize",c),v.default.string(c.axis)&&/^x$|^y$|^xy$/.test(c.axis)?d.options.resize.axis=c.axis:c.axis===null&&(d.options.resize.axis=f.defaults.actions.resize.axis),v.default.bool(c.preserveAspectRatio)?d.options.resize.preserveAspectRatio=c.preserveAspectRatio:v.default.bool(c.square)&&(d.options.resize.square=c.square),d):v.default.bool(c)?(d.options.resize.enabled=c,d):d.options.resize}(this,l,e)},t.map.resize=He,t.methodDict.resize="resizable",o.actions.resize=He.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=n,l=r.rect;r._rects={start:(0,z.default)({},l),corrected:(0,z.default)({},l),previous:(0,z.default)({},l),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=r.prepared.edges,o.rect=r._rects.corrected,o.deltaRect=r._rects.delta}})(e),co(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=n,l=r.interactable.options.resize.invert,d=l==="reposition"||l==="negate",c=r.rect,f=r._rects,m=f.start,y=f.corrected,_=f.delta,x=f.previous;if((0,z.default)(x,y),d){if((0,z.default)(y,c),l==="reposition"){if(y.top>y.bottom){var E=y.top;y.top=y.bottom,y.bottom=E}if(y.left>y.right){var O=y.left;y.left=y.right,y.right=O}}}else y.top=Math.min(c.top,m.bottom),y.bottom=Math.max(c.bottom,m.top),y.left=Math.min(c.left,m.right),y.right=Math.max(c.right,m.left);for(var M in y.width=y.right-y.left,y.height=y.bottom-y.top,y)_[M]=y[M]-x[M];o.edges=r.prepared.edges,o.rect=y,o.deltaRect=_}})(e),co(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,o=e.rect,l=e.buttons;if(o){var d=(0,z.default)({},t.coords.cur.page),c=n.options.resize;if(c&&c.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(l&c.mouseButtons)!=0)){if(v.default.object(c.edges)){var f={left:!1,right:!1,top:!1,bottom:!1};for(var m in f)f[m]=ca(m,c.edges[m],d,t._latestPointer.eventTarget,r,o,c.margin||He.defaultMargin);f.left=f.left&&!f.right,f.top=f.top&&!f.bottom,(f.left||f.right||f.top||f.bottom)&&(e.action={name:"resize",edges:f})}else{var y=c.axis!=="y"&&d.x>o.right-He.defaultMargin,_=c.axis!=="x"&&d.y>o.bottom-He.defaultMargin;(y||_)&&(e.action={name:"resize",axes:(y?"x":"")+(_?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,o=He.cursors,l=null;if(n)l=o[r+n];else if(t){for(var d="",c=["top","bottom","left","right"],f=0;f<c.length;f++){var m=c[f];t[m]&&(d+=m)}l=o[d]}return l},defaultMargin:null},fa=He;Pn.default=fa;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var da={id:"actions",install:function(e){e.usePlugin(On.default),e.usePlugin(Pn.default),e.usePlugin(S.default),e.usePlugin(wn.default)}};Wt.default=da;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var $e,yt,fo=0,pa={request:function(e){return $e(e)},cancel:function(e){return yt(e)},init:function(e){if($e=e.requestAnimationFrame,yt=e.cancelAnimationFrame,!$e)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];$e=e["".concat(r,"RequestAnimationFrame")],yt=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}$e=$e&&$e.bind(e),yt=yt&&yt.bind(e),$e||($e=function(o){var l=Date.now(),d=Math.max(0,16-(l-fo)),c=e.setTimeout(function(){o(l+d)},d);return fo=l+d,c},yt=function(o){return clearTimeout(o)})}};Xe.default=pa;var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0,Je.getContainer=xn,Je.getScroll=qt,Je.getScrollSize=function(e){return v.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},Je.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,o=n&&n.interactable.options[n.prepared.name].autoScroll;if(!o||!o.enabled)return t(),{x:0,y:0};var l=xn(o.container,n.interactable,r),d=qt(l);t();var c=qt(l);return{x:c.x-d.x,y:c.y-d.y}};var Y={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){Y.isScrolling=!0,Xe.default.cancel(Y.i),e.autoScroll=Y,Y.interaction=e,Y.prevTime=Y.now(),Y.i=Xe.default.request(Y.scroll)},stop:function(){Y.isScrolling=!1,Y.interaction&&(Y.interaction.autoScroll=null),Xe.default.cancel(Y.i)},scroll:function(){var e=Y.interaction,t=e.interactable,n=e.element,r=e.prepared.name,o=t.options[r].autoScroll,l=xn(o.container,t,n),d=Y.now(),c=(d-Y.prevTime)/1e3,f=o.speed*c;if(f>=1){var m={x:Y.x*f,y:Y.y*f};if(m.x||m.y){var y=qt(l);v.default.window(l)?l.scrollBy(m.x,m.y):l&&(l.scrollLeft+=m.x,l.scrollTop+=m.y);var _=qt(l),x={x:_.x-y.x,y:_.y-y.y};(x.x||x.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:x,interaction:e,container:l})}Y.prevTime=d}Y.isScrolling&&(Xe.default.cancel(Y.i),Y.i=Xe.default.request(Y.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&Y.check(t.interactable,t.prepared.name))if(t.simulation)Y.x=Y.y=0;else{var r,o,l,d,c=t.interactable,f=t.element,m=t.prepared.name,y=c.options[m].autoScroll,_=xn(y.container,c,f);if(v.default.window(_))d=n.clientX<Y.margin,r=n.clientY<Y.margin,o=n.clientX>_.innerWidth-Y.margin,l=n.clientY>_.innerHeight-Y.margin;else{var x=N.getElementClientRect(_);d=n.clientX<x.left+Y.margin,r=n.clientY<x.top+Y.margin,o=n.clientX>x.right-Y.margin,l=n.clientY>x.bottom-Y.margin}Y.x=o?1:d?-1:0,Y.y=l?1:r?-1:0,Y.isScrolling||(Y.margin=y.margin,Y.speed=y.speed,Y.start(t))}}};function xn(e,t,n){return(v.default.string(e)?(0,D.getStringOptionResult)(e,t,n):e)||(0,s.getWindow)(n)}function qt(e){return v.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var va={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=Y,Y.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Y.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,Y.stop(),Y.interaction&&(Y.interaction=null)},"interactions:stop":Y.stop,"interactions:action-move":function(e){return Y.onInteractionMove(e)}}},ha=va;Je.default=ha;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Le.sign=void 0,Le.warnOnce=function(e,t){var n=!1;return function(){return n||(s.window.console.warn(t),n=!0),e.apply(this,arguments)}},Le.sign=function(e){return e>=0?1:-1};var En={};function ga(e){return v.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function ma(e){return v.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(En,"__esModule",{value:!0}),En.default=void 0;var ya={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,r,o,l){var d=function(c,f,m,y,_){var x=c.getRect(y),E={action:null,interactable:c,interaction:m,element:y,rect:x,buttons:f.buttons||{0:1,1:4,3:8,4:16}[f.button]};return _.fire("auto-start:check",E),E.action}(this,r,o,l,e);return this.options.actionChecker?this.options.actionChecker(n,r,d,this,l,o):d},t.prototype.ignoreFrom=(0,Le.warnOnce)(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,Le.warnOnce)(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=ma,t.prototype.styleCursor=ga}};En.default=ya;var It={};function po(e,t,n,r,o){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&Sn(t,n,e,o)?e:null}function ba(e,t,n,r,o,l,d){for(var c=0,f=r.length;c<f;c++){var m=r[c],y=o[c],_=m.getAction(t,n,e,y);if(_){var x=po(_,m,y,l,d);if(x)return{action:x,interactable:m,element:y}}}return{action:null,interactable:null,element:null}}function vo(e,t,n,r,o){var l=[],d=[],c=r;function f(y){l.push(y),d.push(c)}for(;v.default.element(c);){l=[],d=[],o.interactables.forEachMatch(c,f);var m=ba(e,t,n,l,d,r,o);if(m.action&&!m.interactable.options[m.action.name].manualStart)return m;c=N.parentNode(c)}return{action:null,interactable:null,element:null}}function ho(e,t,n){var r=t.action,o=t.interactable,l=t.element;r=r||{name:null},e.interactable=o,e.element=l,(0,Le.copyAction)(e.prepared,r),e.rect=o&&r.name?o.getRect(l):null,mo(e,n),n.fire("autoStart:prepared",{interaction:e})}function Sn(e,t,n,r){var o=e.options,l=o[n.name].max,d=o[n.name].maxPerElement,c=r.autoStart.maxInteractions,f=0,m=0,y=0;if(!(l&&d&&c))return!1;for(var _=0;_<r.interactions.list.length;_++){var x=r.interactions.list[_],E=x.prepared.name;if(x.interacting()&&(++f>=c||x.interactable===e&&((m+=E===n.name?1:0)>=l||x.element===t&&(y++,E===n.name&&y>=d))))return!1}return c>0}function go(e,t){return v.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function fr(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function mo(e,t){var n=e.interactable,r=e.element,o=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var l="";if(o.name){var d=n.options[o.name].cursorChecker;l=v.default.func(d)?d(o,n,r,e._interacting):t.actions.map[o.name].getCursor(o)}fr(e.element,l||"",t)}else t.autoStart.cursorElement&&fr(t.autoStart.cursorElement,"",t)}Object.defineProperty(It,"__esModule",{value:!0}),It.default=void 0;var _a={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(En.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,z.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(r){return go(r,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Sn,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,o=e.event,l=e.eventTarget;n.interacting()||ho(n,vo(n,r,o,l,t),t)},"interactions:move":function(e,t){(function(n,r){var o=n.interaction,l=n.pointer,d=n.event,c=n.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||ho(o,vo(o,l,d,c,r),r)})(e,t),function(n,r){var o=n.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){r.fire("autoStart:before-start",n);var l=o.interactable,d=o.prepared.name;d&&l&&(l.options[d].manualStart||!Sn(l,o.element,o.prepared,r)?o.stop():(o.start(o.prepared,l,o.element),mo(o,r)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&fr(n.element,"",t)}},maxInteractions:go,withinInteractionLimit:Sn,validateAction:po},wa=_a;It.default=wa;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=void 0;var Oa={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,o=e.dx,l=e.dy;if(n.prepared.name==="drag"){var d=Math.abs(o),c=Math.abs(l),f=n.interactable.options.drag,m=f.startAxis,y=d>c?"x":d<c?"y":"xy";if(n.prepared.axis=f.lockAxis==="start"?y[0]:f.lockAxis,y!=="xy"&&m!=="xy"&&m!==y){n.prepared.name=null;for(var _=r,x=function(O){if(O!==n.interactable){var M=n.interactable.options.drag;if(!M.manualStart&&O.testIgnoreAllow(M,_,r)){var A=O.getAction(n.downPointer,n.downEvent,n,_);if(A&&A.name==="drag"&&function(I,L){if(!L)return!1;var V=L.options.drag.startAxis;return I==="xy"||V==="xy"||V===I}(y,O)&&It.default.validateAction(A,O,_,r,t))return O}}};v.default.element(_);){var E=t.interactables.forEachMatch(_,x);if(E){n.prepared.name="drag",n.interactable=E,n.element=_;break}_=(0,N.parentNode)(_)}}}}}};kn.default=Oa;var jn={};function dr(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(jn,"__esModule",{value:!0}),jn.default=void 0;var Pa={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(It.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=dr(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;dr(t)>0&&(t.prepared.name=null)}},getHoldDuration:dr},xa=Pa;jn.default=xa;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.default=void 0;var Ea={id:"auto-start",install:function(e){e.usePlugin(It.default),e.usePlugin(jn.default),e.usePlugin(kn.default)}};Ut.default=Ea;var bt={};function Sa(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):v.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function ka(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function yo(e){var t=e.Interactable;t.prototype.preventDefault=Sa,t.prototype.checkAndPreventDefault=function(n){return function(r,o,l){var d=r.options.preventDefault;if(d!=="never")if(d!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(l.type)){var c=(0,s.getWindow)(l.target).document,f=o.getDocOptions(c);if(!f||!f.events||f.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(l.type)||v.default.element(l.target)&&(0,N.matchesSelector)(l.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||l.preventDefault()}else l.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var r=0;r<e.interactions.list.length;r++){var o=e.interactions.list[r];if(o.element&&(o.element===n.target||(0,N.nodeContains)(o.element,n.target)))return void o.interactable.checkAndPreventDefault(n)}}})}Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=void 0,bt.install=yo;var ja={id:"core/interactablePreventDefault",install:yo,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=ka,e},{})};bt.default=ja;var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0,pr.default={};var Gt,Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(Gt||(Gt={})),Gt.touchAction,Gt.boxSizing,Gt.noListeners;var Ta={id:"dev-tools",install:function(){}};Tn.default=Ta;var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.default=function e(t){var n={};for(var r in t){var o=t[r];v.default.plainObject(o)?n[r]=e(o):v.default.array(o)?n[r]=te.from(o):n[r]=o}return n};var wt={};function bo(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var l,d,c=[],f=!0,m=!1;try{for(o=o.call(n);!(f=(l=o.next()).done)&&(c.push(l.value),!r||c.length!==r);f=!0);}catch(y){m=!0,d=y}finally{try{f||o.return==null||o.return()}finally{if(m)throw d}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return _o(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_o(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _o(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=void 0,wt.getRectOffset=wo;var Ia=function(){function e(r){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),Ot(this,"states",[]),Ot(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Ot(this,"startDelta",void 0),Ot(this,"result",void 0),Ot(this,"endResult",void 0),Ot(this,"edges",void 0),Ot(this,"interaction",void 0),this.interaction=r,this.result=Mn()}var t,n;return t=e,(n=[{key:"start",value:function(r,o){var l=r.phase,d=this.interaction,c=function(m){var y=m.interactable.options[m.prepared.name],_=y.modifiers;return _&&_.length?_:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(x){var E=y[x];return E&&E.enabled&&{options:E,methods:E._methods}}).filter(function(x){return!!x})}(d);this.prepareStates(c),this.edges=(0,z.default)({},d.edges),this.startOffset=wo(d.rect,o),this.startDelta={x:0,y:0};var f=this.fillArg({phase:l,pageCoords:o,preEnd:!1});return this.result=Mn(),this.startAll(f),this.result=this.setAll(f)}},{key:"fillArg",value:function(r){var o=this.interaction;return r.interaction=o,r.interactable=o.interactable,r.element=o.element,r.rect=r.rect||o.rect,r.edges=this.edges,r.startOffset=this.startOffset,r}},{key:"startAll",value:function(r){for(var o=0;o<this.states.length;o++){var l=this.states[o];l.methods.start&&(r.state=l,l.methods.start(r))}}},{key:"setAll",value:function(r){var o=r.phase,l=r.preEnd,d=r.skipModifiers,c=r.rect;r.coords=(0,z.default)({},r.pageCoords),r.rect=(0,z.default)({},c);for(var f=d?this.states.slice(d):this.states,m=Mn(r.coords,r.rect),y=0;y<f.length;y++){var _,x=f[y],E=x.options,O=(0,z.default)({},r.coords),M=null;(_=x.methods)!=null&&_.set&&this.shouldDo(E,l,o)&&(r.state=x,M=x.methods.set(r),D.addEdges(this.interaction.edges,r.rect,{x:r.coords.x-O.x,y:r.coords.y-O.y})),m.eventProps.push(M)}m.delta.x=r.coords.x-r.pageCoords.x,m.delta.y=r.coords.y-r.pageCoords.y,m.rectDelta.left=r.rect.left-c.left,m.rectDelta.right=r.rect.right-c.right,m.rectDelta.top=r.rect.top-c.top,m.rectDelta.bottom=r.rect.bottom-c.bottom;var A=this.result.coords,I=this.result.rect;if(A&&I){var L=m.rect.left!==I.left||m.rect.right!==I.right||m.rect.top!==I.top||m.rect.bottom!==I.bottom;m.changed=L||A.x!==m.coords.x||A.y!==m.coords.y}return m}},{key:"applyToInteraction",value:function(r){var o=this.interaction,l=r.phase,d=o.coords.cur,c=o.coords.start,f=this.result,m=this.startDelta,y=f.delta;l==="start"&&(0,z.default)(this.startDelta,f.delta);for(var _=0;_<[[c,m],[d,y]].length;_++){var x=bo([[c,m],[d,y]][_],2),E=x[0],O=x[1];E.page.x+=O.x,E.page.y+=O.y,E.client.x+=O.x,E.client.y+=O.y}var M=this.result.rectDelta,A=r.rect||o.rect;A.left+=M.left,A.right+=M.right,A.top+=M.top,A.bottom+=M.bottom,A.width=A.right-A.left,A.height=A.bottom-A.top}},{key:"setAndApply",value:function(r){var o=this.interaction,l=r.phase,d=r.preEnd,c=r.skipModifiers,f=this.setAll(this.fillArg({preEnd:d,phase:l,pageCoords:r.modifiedCoords||o.coords.cur.page}));if(this.result=f,!f.changed&&(!c||c<this.states.length)&&o.interacting())return!1;if(r.modifiedCoords){var m=o.coords.cur.page,y={x:r.modifiedCoords.x-m.x,y:r.modifiedCoords.y-m.y};f.coords.x+=y.x,f.coords.y+=y.y,f.delta.x+=y.x,f.delta.y+=y.y}this.applyToInteraction(r)}},{key:"beforeEnd",value:function(r){var o=r.interaction,l=r.event,d=this.states;if(d&&d.length){for(var c=!1,f=0;f<d.length;f++){var m=d[f];r.state=m;var y=m.options,_=m.methods,x=_.beforeEnd&&_.beforeEnd(r);if(x)return this.endResult=x,!1;c=c||!c&&this.shouldDo(y,!0,r.phase,!0)}c&&o.move({event:l,preEnd:!0})}}},{key:"stop",value:function(r){var o=r.interaction;if(this.states&&this.states.length){var l=(0,z.default)({states:this.states,interactable:o.interactable,element:o.element,rect:null},r);this.fillArg(l);for(var d=0;d<this.states.length;d++){var c=this.states[d];l.state=c,c.methods.stop&&c.methods.stop(l)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(r){this.states=[];for(var o=0;o<r.length;o++){var l=r[o],d=l.options,c=l.methods,f=l.name;this.states.push({options:d,methods:c,index:o,name:f})}return this.states}},{key:"restoreInteractionCoords",value:function(r){var o=r.interaction,l=o.coords,d=o.rect,c=o.modification;if(c.result){for(var f=c.startDelta,m=c.result,y=m.delta,_=m.rectDelta,x=[[l.start,f],[l.cur,y]],E=0;E<x.length;E++){var O=bo(x[E],2),M=O[0],A=O[1];M.page.x-=A.x,M.page.y-=A.y,M.client.x-=A.x,M.client.y-=A.y}d.left-=_.left,d.right-=_.right,d.top-=_.top,d.bottom-=_.bottom}}},{key:"shouldDo",value:function(r,o,l,d){return!(!r||r.enabled===!1||d&&!r.endOnly||r.endOnly&&!o||l==="start"&&!r.setStart)}},{key:"copyFrom",value:function(r){this.startOffset=r.startOffset,this.startDelta=r.startDelta,this.edges=r.edges,this.states=r.states.map(function(o){return(0,_t.default)(o)}),this.result=Mn((0,z.default)({},r.result.coords),(0,z.default)({},r.result.rect))}},{key:"destroy",value:function(){for(var r in this)this[r]=null}}])&&Ma(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Mn(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function wo(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}wt.default=Ia;var be={};function In(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(be,"__esModule",{value:!0}),be.addEventModifiers=In,be.default=void 0,be.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=function(l){var d=l||{};for(var c in d.enabled=d.enabled!==!1,n)c in d||(d[c]=n[c]);var f={options:d,methods:r,name:t,enable:function(){return d.enabled=!0,f},disable:function(){return d.enabled=!1,f}};return f};return t&&typeof t=="string"&&(o._defaults=n,o._methods=r),o};var Da={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new wt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":In,"interactions:action-move":In,"interactions:action-end":In,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Aa=Da;be.default=Aa;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.defaults=void 0,Kt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Ht={};function vr(e){return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(e)}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hr(e,t)}function za(e,t){if(t&&(vr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}function ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dn(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.InteractEvent=void 0;var Oo=function(e){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&hr(c,f)})(d,e);var t,n,r,o,l=(r=d,o=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,f=Dn(r);if(o){var m=Dn(this).constructor;c=Reflect.construct(f,arguments,m)}else c=f.apply(this,arguments);return za(this,c)});function d(c,f,m,y,_,x,E){var O;(function(oe,K){if(!(oe instanceof K))throw new TypeError("Cannot call a class as a function")})(this,d),ae(ne(O=l.call(this,c)),"relatedTarget",null),ae(ne(O),"screenX",void 0),ae(ne(O),"screenY",void 0),ae(ne(O),"button",void 0),ae(ne(O),"buttons",void 0),ae(ne(O),"ctrlKey",void 0),ae(ne(O),"shiftKey",void 0),ae(ne(O),"altKey",void 0),ae(ne(O),"metaKey",void 0),ae(ne(O),"page",void 0),ae(ne(O),"client",void 0),ae(ne(O),"delta",void 0),ae(ne(O),"rect",void 0),ae(ne(O),"x0",void 0),ae(ne(O),"y0",void 0),ae(ne(O),"t0",void 0),ae(ne(O),"dt",void 0),ae(ne(O),"duration",void 0),ae(ne(O),"clientX0",void 0),ae(ne(O),"clientY0",void 0),ae(ne(O),"velocity",void 0),ae(ne(O),"speed",void 0),ae(ne(O),"swipe",void 0),ae(ne(O),"axes",void 0),ae(ne(O),"preEnd",void 0),_=_||c.element;var M=c.interactable,A=(M&&M.options||Kt.defaults).deltaSource,I=(0,C.default)(M,_,m),L=y==="start",V=y==="end",q=L?ne(O):c.prevEvent,J=L?c.coords.start:V?{page:q.page,client:q.client,timeStamp:c.coords.cur.timeStamp}:c.coords.cur;return O.page=(0,z.default)({},J.page),O.client=(0,z.default)({},J.client),O.rect=(0,z.default)({},c.rect),O.timeStamp=J.timeStamp,V||(O.page.x-=I.x,O.page.y-=I.y,O.client.x-=I.x,O.client.y-=I.y),O.ctrlKey=f.ctrlKey,O.altKey=f.altKey,O.shiftKey=f.shiftKey,O.metaKey=f.metaKey,O.button=f.button,O.buttons=f.buttons,O.target=_,O.currentTarget=_,O.preEnd=x,O.type=E||m+(y||""),O.interactable=M,O.t0=L?c.pointers[c.pointers.length-1].downTime:q.t0,O.x0=c.coords.start.page.x-I.x,O.y0=c.coords.start.page.y-I.y,O.clientX0=c.coords.start.client.x-I.x,O.clientY0=c.coords.start.client.y-I.y,O.delta=L||V?{x:0,y:0}:{x:O[A].x-q[A].x,y:O[A].y-q[A].y},O.dt=c.coords.delta.timeStamp,O.duration=O.timeStamp-O.t0,O.velocity=(0,z.default)({},c.coords.velocity[A]),O.speed=(0,Oe.default)(O.velocity.x,O.velocity.y),O.swipe=V||y==="inertiastart"?O.getSwipe():null,O}return t=d,(n=[{key:"getSwipe",value:function(){var c=this._interaction;if(c.prevEvent.speed<600||this.timeStamp-c.prevEvent.timeStamp>150)return null;var f=180*Math.atan2(c.prevEvent.velocityY,c.prevEvent.velocityX)/Math.PI;f<0&&(f+=360);var m=112.5<=f&&f<247.5,y=202.5<=f&&f<337.5;return{up:y,down:!y&&22.5<=f&&f<157.5,left:m,right:!m&&(292.5<=f||f<67.5),angle:f,speed:c.prevEvent.speed,velocity:{x:c.prevEvent.velocityX,y:c.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Ca(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(Tt.BaseEvent);Ht.InteractEvent=Oo,Object.defineProperties(Oo.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var $t={};function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t,n){return t&&Po(e.prototype,t),n&&Po(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty($t,"__esModule",{value:!0}),$t.PointerInfo=void 0;var La=Ra(function e(t,n,r,o,l){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),Jt(this,"id",void 0),Jt(this,"pointer",void 0),Jt(this,"event",void 0),Jt(this,"downTime",void 0),Jt(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=l});$t.PointerInfo=La;var An,Cn,Re={};function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Re,"__esModule",{value:!0}),Re.Interaction=void 0,Object.defineProperty(Re,"PointerInfo",{enumerable:!0,get:function(){return $t.PointerInfo}}),Re.default=Re._ProxyValues=Re._ProxyMethods=void 0,Re._ProxyValues=An,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(An||(Re._ProxyValues=An={})),Re._ProxyMethods=Cn,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Cn||(Re._ProxyMethods=Cn={}));var Na=0,xo=function(){function e(r){var o=this,l=r.pointerType,d=r.scopeFire;(function(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),se(this,"interactable",null),se(this,"element",null),se(this,"rect",null),se(this,"_rects",void 0),se(this,"edges",null),se(this,"_scopeFire",void 0),se(this,"prepared",{name:null,axis:null,edges:null}),se(this,"pointerType",void 0),se(this,"pointers",[]),se(this,"downEvent",null),se(this,"downPointer",{}),se(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),se(this,"prevEvent",null),se(this,"pointerIsDown",!1),se(this,"pointerWasMoved",!1),se(this,"_interacting",!1),se(this,"_ending",!1),se(this,"_stopped",!0),se(this,"_proxy",null),se(this,"simulation",null),se(this,"doMove",(0,Le.warnOnce)(function(x){this.move(x)},"The interaction.doMove() method has been renamed to interaction.move()")),se(this,"coords",{start:R.newCoords(),prev:R.newCoords(),cur:R.newCoords(),delta:R.newCoords(),velocity:R.newCoords()}),se(this,"_id",Na++),this._scopeFire=d,this.pointerType=l;var c=this;this._proxy={};var f=function(x){Object.defineProperty(o._proxy,x,{get:function(){return c[x]}})};for(var m in An)f(m);var y=function(x){Object.defineProperty(o._proxy,x,{value:function(){return c[x].apply(c,arguments)}})};for(var _ in Cn)y(_);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(r,o,l){var d=this.updatePointer(r,o,l,!0),c=this.pointers[d];this._scopeFire("interactions:down",{pointer:r,event:o,eventTarget:l,pointerIndex:d,pointerInfo:c,type:"down",interaction:this})}},{key:"start",value:function(r,o,l){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(r.name==="gesture"?2:1)||!o.options[r.name].enabled)&&((0,Le.copyAction)(this.prepared,r),this.interactable=o,this.element=l,this.rect=o.getRect(l),this.edges=this.prepared.edges?(0,z.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(r,o,l){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(r,o,l,!1);var d,c,f=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(d=this.coords.cur.client.x-this.coords.start.client.x,c=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Oe.default)(d,c)>this.pointerMoveTolerance);var m=this.getPointerIndex(r),y={pointer:r,pointerIndex:m,pointerInfo:this.pointers[m],event:o,type:"move",eventTarget:l,dx:d,dy:c,duplicate:f,interaction:this};f||R.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",y),f||this.simulation||(this.interacting()&&(y.type=null,this.move(y)),this.pointerWasMoved&&R.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(r){r&&r.event||R.setZeroCoords(this.coords.delta),(r=(0,z.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},r||{})).phase="move",this._doPhase(r)}},{key:"pointerUp",value:function(r,o,l,d){var c=this.getPointerIndex(r);c===-1&&(c=this.updatePointer(r,o,l,!1));var f=/cancel$/i.test(o.type)?"cancel":"up";this._scopeFire("interactions:".concat(f),{pointer:r,pointerIndex:c,pointerInfo:this.pointers[c],event:o,eventTarget:l,type:f,curEventTarget:d,interaction:this}),this.simulation||this.end(o),this.removePointer(r,o)}},{key:"documentBlur",value:function(r){this.end(r),this._scopeFire("interactions:blur",{event:r,type:"blur",interaction:this})}},{key:"end",value:function(r){var o;this._ending=!0,r=r||this._latestPointer.event,this.interacting()&&(o=this._doPhase({event:r,interaction:this,phase:"end"})),this._ending=!1,o===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(r){var o=R.getPointerId(r);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:te.findIndex(this.pointers,function(l){return l.id===o})}},{key:"getPointerInfo",value:function(r){return this.pointers[this.getPointerIndex(r)]}},{key:"updatePointer",value:function(r,o,l,d){var c=R.getPointerId(r),f=this.getPointerIndex(r),m=this.pointers[f];return d=d!==!1&&(d||/(down|start)$/i.test(o.type)),m?m.pointer=r:(m=new $t.PointerInfo(c,r,o,null,null),f=this.pointers.length,this.pointers.push(m)),R.setCoords(this.coords.cur,this.pointers.map(function(y){return y.pointer}),this._now()),R.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),d&&(this.pointerIsDown=!0,m.downTime=this.coords.cur.timeStamp,m.downTarget=l,R.pointerExtend(this.downPointer,r),this.interacting()||(R.copyCoords(this.coords.start,this.coords.cur),R.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=o,this.pointerWasMoved=!1)),this._updateLatestPointer(r,o,l),this._scopeFire("interactions:update-pointer",{pointer:r,event:o,eventTarget:l,down:d,pointerInfo:m,pointerIndex:f,interaction:this}),f}},{key:"removePointer",value:function(r,o){var l=this.getPointerIndex(r);if(l!==-1){var d=this.pointers[l];this._scopeFire("interactions:remove-pointer",{pointer:r,event:o,eventTarget:null,pointerIndex:l,pointerInfo:d,interaction:this}),this.pointers.splice(l,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(r,o,l){this._latestPointer.pointer=r,this._latestPointer.event=o,this._latestPointer.eventTarget=l}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(r,o,l,d){return new Ht.InteractEvent(this,r,this.prepared.name,o,this.element,l,d)}},{key:"_fireEvent",value:function(r){var o;(o=this.interactable)==null||o.fire(r),(!this.prevEvent||r.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=r)}},{key:"_doPhase",value:function(r){var o=r.event,l=r.phase,d=r.preEnd,c=r.type,f=this.rect;if(f&&l==="move"&&(D.addEdges(this.edges,f,this.coords.delta[this.interactable.options.deltaSource]),f.width=f.right-f.left,f.height=f.bottom-f.top),this._scopeFire("interactions:before-action-".concat(l),r)===!1)return!1;var m=r.iEvent=this._createPreparedEvent(o,l,d,c);return this._scopeFire("interactions:action-".concat(l),r),l==="start"&&(this.prevEvent=m),this._fireEvent(m),this._scopeFire("interactions:after-action-".concat(l),r),!0}},{key:"_now",value:function(){return Date.now()}}],n&&Fa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Re.Interaction=xo;var Va=xo;Re.default=Va;var at={};function Eo(e){e.pointerIsDown&&(mr(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function So(e){gr(e.interaction)}function gr(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return mr(e.coords.cur,t),mr(e.coords.delta,t),D.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Xa(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function mr(e,t){var n=e.page,r=e.client,o=t.x,l=t.y;n.x+=o,n.y+=l,r.x+=o,r.y+=l}Object.defineProperty(at,"__esModule",{value:!0}),at.addTotal=Eo,at.applyPending=gr,at.default=void 0,Re._ProxyMethods.offsetBy="";var Ba={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Xa},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Eo(e.interaction)},"interactions:before-action-start":So,"interactions:before-action-move":So,"interactions:before-action-end":function(e){var t=e.interaction;if(gr(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Ya=Ba;at.default=Ya;var Pt={};function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=Pt.InertiaState=void 0;var ko=function(){function e(r){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),he(this,"active",!1),he(this,"isModified",!1),he(this,"smoothEnd",!1),he(this,"allowResume",!1),he(this,"modification",void 0),he(this,"modifierCount",0),he(this,"modifierArg",void 0),he(this,"startCoords",void 0),he(this,"t0",0),he(this,"v0",0),he(this,"te",0),he(this,"targetOffset",void 0),he(this,"modifiedOffset",void 0),he(this,"currentOffset",void 0),he(this,"lambda_v0",0),he(this,"one_ve_v0",0),he(this,"timeout",void 0),he(this,"interaction",void 0),this.interaction=r}var t,n;return t=e,(n=[{key:"start",value:function(r){var o=this.interaction,l=zn(o);if(!l||!l.enabled)return!1;var d=o.coords.velocity.client,c=(0,Oe.default)(d.x,d.y),f=this.modification||(this.modification=new wt.default(o));if(f.copyFrom(o.modification),this.t0=o._now(),this.allowResume=l.allowResume,this.v0=c,this.currentOffset={x:0,y:0},this.startCoords=o.coords.cur.page,this.modifierArg=f.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-o.coords.cur.timeStamp<50&&c>l.minSpeed&&c>l.endSpeed)this.startInertia();else{if(f.result=f.setAll(this.modifierArg),!f.result.changed)return!1;this.startSmoothEnd()}return o.modification.result.rect=null,o.offsetBy(this.targetOffset),o._doPhase({interaction:o,event:r,phase:"inertiastart"}),o.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),o.modification.result.rect=null,this.active=!0,o.simulation=this,!0}},{key:"startInertia",value:function(){var r=this,o=this.interaction.coords.velocity.client,l=zn(this.interaction),d=l.resistance,c=-Math.log(l.endSpeed/this.v0)/d;this.targetOffset={x:(o.x-c)/d,y:(o.y-c)/d},this.te=c,this.lambda_v0=d/this.v0,this.one_ve_v0=1-l.endSpeed/this.v0;var f=this.modification,m=this.modifierArg;m.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},f.result=f.setAll(m),f.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+f.result.delta.x,y:this.targetOffset.y+f.result.delta.y}),this.onNextFrame(function(){return r.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var r=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return r.smoothEndTick()})}},{key:"onNextFrame",value:function(r){var o=this;this.timeout=Xe.default.request(function(){o.active&&r()})}},{key:"inertiaTick",value:function(){var r,o,l,d,c,f=this,m=this.interaction,y=zn(m).resistance,_=(m._now()-this.t0)/1e3;if(_<this.te){var x,E=1-(Math.exp(-y*_)-this.lambda_v0)/this.one_ve_v0;this.isModified?(r=this.targetOffset.x,o=this.targetOffset.y,l=this.modifiedOffset.x,d=this.modifiedOffset.y,x={x:jo(c=E,0,r,l),y:jo(c,0,o,d)}):x={x:this.targetOffset.x*E,y:this.targetOffset.y*E};var O={x:x.x-this.currentOffset.x,y:x.y-this.currentOffset.y};this.currentOffset.x+=O.x,this.currentOffset.y+=O.y,m.offsetBy(O),m.move(),this.onNextFrame(function(){return f.inertiaTick()})}else m.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var r=this,o=this.interaction,l=o._now()-this.t0,d=zn(o).smoothEndDuration;if(l<d){var c={x:To(l,0,this.targetOffset.x,d),y:To(l,0,this.targetOffset.y,d)},f={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,o.offsetBy(f),o.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return r.smoothEndTick()})}else o.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(r){var o=r.pointer,l=r.event,d=r.eventTarget,c=this.interaction;c.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),c.updatePointer(o,l,d,!0),c._doPhase({interaction:c,event:l,phase:"resume"}),(0,R.copyCoords)(c.coords.prev,c.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Xe.default.cancel(this.timeout)}}])&&Wa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}Pt.InertiaState=ko;var qa={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(at.default),e.usePlugin(be.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new ko(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var o=n;v.default.element(o);){if(o===t.element){r.resume(e);break}o=N.parentNode(o)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":be.addEventModifiers,"interactions:action-inertiastart":be.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function jo(e,t,n,r){var o=1-e;return o*o*t+2*o*e*n+e*e*r}function To(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Ua=qa;Pt.default=Ua;var Zt={};function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.Eventable=void 0;var Ka=function(){function e(r){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),Qt(this,"options",void 0),Qt(this,"types",{}),Qt(this,"propagationStopped",!1),Qt(this,"immediatePropagationStopped",!1),Qt(this,"global",void 0),this.options=(0,z.default)({},r||{})}var t,n;return t=e,(n=[{key:"fire",value:function(r){var o,l=this.global;(o=this.types[r.type])&&Mo(r,o),!r.propagationStopped&&l&&(o=l[r.type])&&Mo(r,o)}},{key:"on",value:function(r,o){var l=(0,H.default)(r,o);for(r in l)this.types[r]=te.merge(this.types[r]||[],l[r])}},{key:"off",value:function(r,o){var l=(0,H.default)(r,o);for(r in l){var d=this.types[r];if(d&&d.length)for(var c=0;c<l[r].length;c++){var f=l[r][c],m=d.indexOf(f);m!==-1&&d.splice(m,1)}}}},{key:"getRect",value:function(r){return null}}])&&Ga(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Zt.Eventable=Ka;var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1};var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.createInteractStatic=function(e){var t=function n(r,o){var l=e.interactables.get(r,o);return l||((l=e.interactables.new(r,o)).events.global=n.globalEvents),l};return t.getPointerAverage=R.pointerAverage,t.getTouchBBox=R.touchBBox,t.getTouchDistance=R.touchDistance,t.getTouchAngle=R.touchAngle,t.getElementRect=N.getElementRect,t.getElementClientRect=N.getElementClientRect,t.matchesSelector=N.matchesSelector,t.closest=N.closest,t.globalEvents={},t.version="1.10.17",t.scope=e,t.use=function(n,r){return this.scope.usePlugin(n,r),this},t.isSet=function(n,r){return!!this.scope.interactables.get(n,r&&r.context)},t.on=(0,Le.warnOnce)(function(n,r,o){if(v.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),v.default.array(n)){for(var l=0;l<n.length;l++){var d=n[l];this.on(d,r,o)}return this}if(v.default.object(n)){for(var c in n)this.on(c,n[c],r);return this}return(0,en.default)(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(r):this.globalEvents[n]=[r]:this.scope.events.add(this.scope.document,n,r,{options:o}),this},"The interact.on() method is being deprecated"),t.off=(0,Le.warnOnce)(function(n,r,o){if(v.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),v.default.array(n)){for(var l=0;l<n.length;l++){var d=n[l];this.off(d,r,o)}return this}if(v.default.object(n)){for(var c in n)this.off(c,n[c],r);return this}var f;return(0,en.default)(n,this.scope.actions)?n in this.globalEvents&&(f=this.globalEvents[n].indexOf(r))!==-1&&this.globalEvents[n].splice(f,1):this.scope.events.remove(this.scope.document,n,r,o),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return ue.default.supportsTouch},t.supportsPointerEvent=function(){return ue.default.supportsPointerEvent},t.stop=function(){for(var n=0;n<this.scope.interactions.list.length;n++)this.scope.interactions.list[n].stop();return this},t.pointerMoveTolerance=function(n){return v.default.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,r){this.scope.addDocument(n,r)},t.removeDocument=function(n){this.scope.removeDocument(n)},t};var Rn={};function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.Interactable=void 0;var $a=function(){function e(r,o,l,d){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),Ze(this,"options",void 0),Ze(this,"_actions",void 0),Ze(this,"target",void 0),Ze(this,"events",new Zt.Eventable),Ze(this,"_context",void 0),Ze(this,"_win",void 0),Ze(this,"_doc",void 0),Ze(this,"_scopeEvents",void 0),Ze(this,"_rectChecker",void 0),this._actions=o.actions,this.target=r,this._context=o.context||l,this._win=(0,s.getWindow)((0,N.trySelector)(r)?this._context:r),this._doc=this._win.document,this._scopeEvents=d,this.set(o)}var t,n;return t=e,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(r,o){return v.default.func(o.onstart)&&this.on("".concat(r,"start"),o.onstart),v.default.func(o.onmove)&&this.on("".concat(r,"move"),o.onmove),v.default.func(o.onend)&&this.on("".concat(r,"end"),o.onend),v.default.func(o.oninertiastart)&&this.on("".concat(r,"inertiastart"),o.oninertiastart),this}},{key:"updatePerActionListeners",value:function(r,o,l){(v.default.array(o)||v.default.object(o))&&this.off(r,o),(v.default.array(l)||v.default.object(l))&&this.on(r,l)}},{key:"setPerAction",value:function(r,o){var l=this._defaults;for(var d in o){var c=d,f=this.options[r],m=o[c];c==="listeners"&&this.updatePerActionListeners(r,f.listeners,m),v.default.array(m)?f[c]=te.from(m):v.default.plainObject(m)?(f[c]=(0,z.default)(f[c]||{},(0,_t.default)(m)),v.default.object(l.perAction[c])&&"enabled"in l.perAction[c]&&(f[c].enabled=m.enabled!==!1)):v.default.bool(m)&&v.default.object(l.perAction[c])?f[c].enabled=m:f[c]=m}}},{key:"getRect",value:function(r){return r=r||(v.default.element(this.target)?this.target:null),v.default.string(this.target)&&(r=r||this._context.querySelector(this.target)),(0,N.getElementRect)(r)}},{key:"rectChecker",value:function(r){var o=this;return v.default.func(r)?(this._rectChecker=r,this.getRect=function(l){var d=(0,z.default)({},o._rectChecker(l));return"width"in d||(d.width=d.right-d.left,d.height=d.bottom-d.top),d},this):r===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(r,o){if((0,N.trySelector)(o)||v.default.object(o)){for(var l in this.options[r]=o,this._actions.map)this.options[l][r]=o;return this}return this.options[r]}},{key:"origin",value:function(r){return this._backCompatOption("origin",r)}},{key:"deltaSource",value:function(r){return r==="page"||r==="client"?(this.options.deltaSource=r,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(r){return this._context===r.ownerDocument||(0,N.nodeContains)(this._context,r)}},{key:"testIgnoreAllow",value:function(r,o,l){return!this.testIgnore(r.ignoreFrom,o,l)&&this.testAllow(r.allowFrom,o,l)}},{key:"testAllow",value:function(r,o,l){return!r||!!v.default.element(l)&&(v.default.string(r)?(0,N.matchesUpTo)(l,r,o):!!v.default.element(r)&&(0,N.nodeContains)(r,l))}},{key:"testIgnore",value:function(r,o,l){return!(!r||!v.default.element(l))&&(v.default.string(r)?(0,N.matchesUpTo)(l,r,o):!!v.default.element(r)&&(0,N.nodeContains)(r,l))}},{key:"fire",value:function(r){return this.events.fire(r),this}},{key:"_onOff",value:function(r,o,l,d){v.default.object(o)&&!v.default.array(o)&&(d=l,l=null);var c=r==="on"?"add":"remove",f=(0,H.default)(o,l);for(var m in f){m==="wheel"&&(m=ue.default.wheelEvent);for(var y=0;y<f[m].length;y++){var _=f[m][y];(0,en.default)(m,this._actions)?this.events[r](m,_):v.default.string(this.target)?this._scopeEvents["".concat(c,"Delegate")](this.target,this._context,m,_,d):this._scopeEvents[c](this.target,m,_,d)}}return this}},{key:"on",value:function(r,o,l){return this._onOff("on",r,o,l)}},{key:"off",value:function(r,o,l){return this._onOff("off",r,o,l)}},{key:"set",value:function(r){var o=this._defaults;for(var l in v.default.object(r)||(r={}),this.options=(0,_t.default)(o.base),this._actions.methodDict){var d=l,c=this._actions.methodDict[d];this.options[d]={},this.setPerAction(d,(0,z.default)((0,z.default)({},o.perAction),o.actions[d])),this[c](r[d])}for(var f in r)v.default.func(this[f])&&this[f](r[f]);return this}},{key:"unset",value:function(){if(v.default.string(this.target))for(var r in this._scopeEvents.delegatedEvents)for(var o=this._scopeEvents.delegatedEvents[r],l=o.length-1;l>=0;l--){var d=o[l],c=d.selector,f=d.context,m=d.listeners;c===this.target&&f===this._context&&o.splice(l,1);for(var y=m.length-1;y>=0;y--)this._scopeEvents.removeDelegate(this.target,this._context,r,m[y][0],m[y][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Ha(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Rn.Interactable=$a;var Ln={};function Ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.InteractableSet=void 0;var Za=function(){function e(r){var o=this;(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),br(this,"list",[]),br(this,"selectorMap",{}),br(this,"scope",void 0),this.scope=r,r.addListeners({"interactable:unset":function(l){var d=l.interactable,c=d.target,f=d._context,m=v.default.string(c)?o.selectorMap[c]:c[o.scope.id],y=te.findIndex(m,function(_){return _.context===f});m[y]&&(m[y].context=null,m[y].interactable=null),m.splice(y,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(r,o){o=(0,z.default)(o||{},{actions:this.scope.actions});var l=new this.scope.Interactable(r,o,this.scope.document,this.scope.events),d={context:l._context,interactable:l};return this.scope.addDocument(l._doc),this.list.push(l),v.default.string(r)?(this.selectorMap[r]||(this.selectorMap[r]=[]),this.selectorMap[r].push(d)):(l.target[this.scope.id]||Object.defineProperty(r,this.scope.id,{value:[],configurable:!0}),r[this.scope.id].push(d)),this.scope.fire("interactable:new",{target:r,options:o,interactable:l,win:this.scope._win}),l}},{key:"get",value:function(r,o){var l=o&&o.context||this.scope.document,d=v.default.string(r),c=d?this.selectorMap[r]:r[this.scope.id];if(!c)return null;var f=te.find(c,function(m){return m.context===l&&(d||m.interactable.inContext(r))});return f&&f.interactable}},{key:"forEachMatch",value:function(r,o){for(var l=0;l<this.list.length;l++){var d=this.list[l],c=void 0;if((v.default.string(d.target)?v.default.element(r)&&N.matchesSelector(r,d.target):r===d.target)&&d.inContext(r)&&(c=o(d)),c!==void 0)return c}}}])&&Ja(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ln.InteractableSet=Za;var Fn={};function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var l,d,c=[],f=!0,m=!1;try{for(o=o.call(n);!(f=(l=o.next()).done)&&(c.push(l.value),!r||c.length!==r);f=!0);}catch(y){m=!0,d=y}finally{try{f||o.return==null||o.return()}finally{if(m)throw d}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Io(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Io(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Io(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.default=void 0;var es=function(){function e(r){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),_r(this,"currentTarget",void 0),_r(this,"originalEvent",void 0),_r(this,"type",void 0),this.originalEvent=r,(0,Ge.default)(this,r)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Qa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tn(e){if(!v.default.object(e))return{capture:!!e,passive:!1};var t=(0,z.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var ts={id:"events",install:function(e){var t,n=[],r={},o=[],l={add:d,remove:c,addDelegate:function(y,_,x,E,O){var M=tn(O);if(!r[x]){r[x]=[];for(var A=0;A<o.length;A++){var I=o[A];d(I,x,f),d(I,x,m,!0)}}var L=r[x],V=te.find(L,function(q){return q.selector===y&&q.context===_});V||(V={selector:y,context:_,listeners:[]},L.push(V)),V.listeners.push([E,M])},removeDelegate:function(y,_,x,E,O){var M,A=tn(O),I=r[x],L=!1;if(I)for(M=I.length-1;M>=0;M--){var V=I[M];if(V.selector===y&&V.context===_){for(var q=V.listeners,J=q.length-1;J>=0;J--){var oe=wr(q[J],2),K=oe[0],re=oe[1],Ne=re.capture,et=re.passive;if(K===E&&Ne===A.capture&&et===A.passive){q.splice(J,1),q.length||(I.splice(M,1),c(_,x,f),c(_,x,m,!0)),L=!0;break}}if(L)break}}},delegateListener:f,delegateUseCapture:m,delegatedEvents:r,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};function d(y,_,x,E){var O=tn(E),M=te.find(n,function(A){return A.eventTarget===y});M||(M={eventTarget:y,events:{}},n.push(M)),M.events[_]||(M.events[_]=[]),y.addEventListener&&!te.contains(M.events[_],x)&&(y.addEventListener(_,x,l.supportsOptions?O:O.capture),M.events[_].push(x))}function c(y,_,x,E){var O=tn(E),M=te.findIndex(n,function(J){return J.eventTarget===y}),A=n[M];if(A&&A.events)if(_!=="all"){var I=!1,L=A.events[_];if(L){if(x==="all"){for(var V=L.length-1;V>=0;V--)c(y,_,L[V],O);return}for(var q=0;q<L.length;q++)if(L[q]===x){y.removeEventListener(_,x,l.supportsOptions?O:O.capture),L.splice(q,1),L.length===0&&(delete A.events[_],I=!0);break}}I&&!Object.keys(A.events).length&&n.splice(M,1)}else for(_ in A.events)A.events.hasOwnProperty(_)&&c(y,_,"all")}function f(y,_){for(var x=tn(_),E=new es(y),O=r[y.type],M=wr(R.getEventTargets(y),1)[0],A=M;v.default.element(A);){for(var I=0;I<O.length;I++){var L=O[I],V=L.selector,q=L.context;if(N.matchesSelector(A,V)&&N.nodeContains(q,M)&&N.nodeContains(q,A)){var J=L.listeners;E.currentTarget=A;for(var oe=0;oe<J.length;oe++){var K=wr(J[oe],2),re=K[0],Ne=K[1],et=Ne.capture,Vr=Ne.passive;et===x.capture&&Vr===x.passive&&re(E)}}}A=N.parentNode(A)}}function m(y){return f(y,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return l.supportsOptions=!0},get passive(){return l.supportsPassive=!0}}),e.events=l,l}};Fn.default=ts;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var Vn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Vn.methodOrder.length;t++){var n;n=Vn.methodOrder[t];var r=Vn[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,o=e.scope;if(!/down|start/i.test(n))return null;for(var l=0;l<o.interactions.list.length;l++){var d=o.interactions.list[l],c=r;if(d.simulation&&d.simulation.allowResume&&d.pointerType===t)for(;c;){if(c===d.element)return d;c=N.parentNode(c)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,o=e.eventType,l=e.scope;if(r!=="mouse"&&r!=="pen")return null;for(var d=0;d<l.interactions.list.length;d++){var c=l.interactions.list[d];if(c.pointerType===r){if(c.simulation&&!Do(c,n))continue;if(c.interacting())return c;t||(t=c)}}if(t)return t;for(var f=0;f<l.interactions.list.length;f++){var m=l.interactions.list[f];if(!(m.pointerType!==r||/down/i.test(o)&&m.simulation))return m}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(Do(o,t))return o}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(o.pointers.length===1){var l=o.interactable;if(l&&(!l.options.gesture||!l.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&t===o.pointerType)return o}return null}};function Do(e,t){return e.pointers.some(function(n){return n.id===t})}var ns=Vn;Nn.default=ns;var Xn={};function Or(e){return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(e)}function Ao(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var l,d,c=[],f=!0,m=!1;try{for(o=o.call(n);!(f=(l=o.next()).done)&&(c.push(l.value),!r||c.length!==r);f=!0);}catch(y){m=!0,d=y}finally{try{f||o.return==null||o.return()}finally{if(m)throw d}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Co(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Co(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Co(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Pr(e,t)}function is(e,t){if(t&&(Or(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Bn(e){return Bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bn(e)}Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.default=void 0;var xr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function zo(e,t){return function(n){var r=t.interactions.list,o=R.getPointerType(n),l=Ao(R.getEventTargets(n),2),d=l[0],c=l[1],f=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var m=0;m<n.changedTouches.length;m++){var y=n.changedTouches[m],_={pointer:y,pointerId:R.getPointerId(y),pointerType:o,eventType:n.type,eventTarget:d,curEventTarget:c,scope:t},x=Ro(_);f.push([_.pointer,_.eventTarget,_.curEventTarget,x])}}else{var E=!1;if(!ue.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var O=0;O<r.length&&!E;O++)E=r[O].pointerType!=="mouse"&&r[O].pointerIsDown;E=E||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!E){var M={pointer:n,pointerId:R.getPointerId(n),pointerType:o,eventType:n.type,curEventTarget:c,eventTarget:d,scope:t},A=Ro(M);f.push([M.pointer,M.eventTarget,M.curEventTarget,A])}}for(var I=0;I<f.length;I++){var L=Ao(f[I],4),V=L[0],q=L[1],J=L[2];L[3][e](V,n,q,J)}}}function Ro(e){var t=e.pointerType,n=e.scope,r={interaction:Nn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function Er(e,t){var n=e.doc,r=e.scope,o=e.options,l=r.interactions.docEvents,d=r.events,c=d[t];for(var f in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),d.delegatedEvents)c(n,f,d.delegateListener),c(n,f,d.delegateUseCapture,!0);for(var m=o&&o.events,y=0;y<l.length;y++){var _=l[y];c(n,_.type,_.listener,m)}}var as={id:"core/interactions",install:function(e){for(var t={},n=0;n<xr.length;n++){var r=xr[n];t[r]=zo(r,e)}var o,l=ue.default.pEventTypes;function d(){for(var c=0;c<e.interactions.list.length;c++){var f=e.interactions.list[c];if(f.pointerIsDown&&f.pointerType==="touch"&&!f._interacting)for(var m=function(){var _=f.pointers[y];e.documents.some(function(x){var E=x.doc;return(0,N.nodeContains)(E,_.downTarget)})||f.removePointer(_.pointer,_.event)},y=0;y<f.pointers.length;y++)m()}}(o=W.default.PointerEvent?[{type:l.down,listener:d},{type:l.down,listener:t.pointerDown},{type:l.move,listener:t.pointerMove},{type:l.up,listener:t.pointerUp},{type:l.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:d},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(c){for(var f=0;f<e.interactions.list.length;f++)e.interactions.list[f].documentBlur(c)}}),e.prevTouchTime=0,e.Interaction=function(c){(function(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&Pr(O,M)})(E,c);var f,m,y,_,x=(y=E,_=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,M=Bn(y);if(_){var A=Bn(this).constructor;O=Reflect.construct(M,arguments,A)}else O=M.apply(this,arguments);return is(this,O)});function E(){return rs(this,E),x.apply(this,arguments)}return f=E,(m=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(O){e.interactions.pointerMoveTolerance=O}},{key:"_now",value:function(){return e.now()}}])&&os(f.prototype,m),Object.defineProperty(f,"prototype",{writable:!1}),E}(Re.default),e.interactions={list:[],new:function(c){c.scopeFire=function(m,y){return e.fire(m,y)};var f=new e.Interaction(c);return e.interactions.list.push(f),f},listeners:t,docEvents:o,pointerMoveTolerance:1},e.usePlugin(bt.default)},listeners:{"scope:add-document":function(e){return Er(e,"add")},"scope:remove-document":function(e){return Er(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var o=t.interactions.list[r];o.interactable===n&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Er,doOnInteractions:zo,methodNames:xr},ss=as;Xn.default=ss;var nn={};function Sr(e){return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(e)}function rn(){return rn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ls(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},rn.apply(this,arguments)}function ls(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=st(e))!==null;);return e}function kr(e,t){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kr(e,t)}function us(e,t){if(t&&(Sr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},st(e)}function Lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t,n){return t&&Fo(e.prototype,t),n&&Fo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(nn,"__esModule",{value:!0}),nn.Scope=void 0,nn.initScope=Vo;var cs=function(){function e(){var t=this;Lo(this,e),_e(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),_e(this,"isInitialized",!1),_e(this,"listenerMaps",[]),_e(this,"browser",ue.default),_e(this,"defaults",(0,_t.default)(Kt.defaults)),_e(this,"Eventable",Zt.Eventable),_e(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),_e(this,"interactStatic",(0,yr.createInteractStatic)(this)),_e(this,"InteractEvent",Ht.InteractEvent),_e(this,"Interactable",void 0),_e(this,"interactables",new Ln.InteractableSet(this)),_e(this,"_win",void 0),_e(this,"document",void 0),_e(this,"window",void 0),_e(this,"documents",[]),_e(this,"_plugins",{list:[],map:{}}),_e(this,"onWindowUnload",function(r){return t.removeDocument(r.target)});var n=this;this.Interactable=function(r){(function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),m&&kr(f,m)})(c,r);var o,l,d=(o=c,l=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,m=st(o);if(l){var y=st(this).constructor;f=Reflect.construct(m,arguments,y)}else f=m.apply(this,arguments);return us(this,f)});function c(){return Lo(this,c),d.apply(this,arguments)}return No(c,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(f){return rn(st(c.prototype),"set",this).call(this,f),n.fire("interactable:set",{options:f,interactable:this}),this}},{key:"unset",value:function(){rn(st(c.prototype),"unset",this).call(this);var f=n.interactables.list.indexOf(this);f<0||(rn(st(c.prototype),"unset",this).call(this),n.interactables.list.splice(f,1),n.fire("interactable:unset",{interactable:this}))}}]),c}(Rn.Interactable)}return No(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var r=0;r<this.listenerMaps.length;r++){var o=this.listenerMaps[r].map[t];if(o&&o(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Vo(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var r=0,o=this.listenerMaps.length,l=t.before.reduce(function(c,f){return c[f]=!0,c[Xo(f)]=!0,c},{});r<o;r++){var d=this.listenerMaps[r].id;if(l[d]||l[Xo(d)])break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var r=s.getWindow(t);n=n?(0,z.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=s.getWindow(t),o=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:o})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Vo(e,t){return e.isInitialized=!0,v.default.window(t)&&s.init(t),W.default.init(t),ue.default.init(t),Xe.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Xn.default),e.usePlugin(Fn.default),e}function Xo(e){return e&&e.replace(/\/.*$/,"")}nn.Scope=cs;var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Bo=new nn.Scope,fs=Bo.interactStatic;we.default=fs;var ds=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;Bo.init(ds);var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.default=void 0,Yn.default=function(){};var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=void 0,Wn.default=function(){};var qn={};function Yo(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var l,d,c=[],f=!0,m=!1;try{for(o=o.call(n);!(f=(l=o.next()).done)&&(c.push(l.value),!r||c.length!==r);f=!0);}catch(y){m=!0,d=y}finally{try{f||o.return==null||o.return()}finally{if(m)throw d}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Wo(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Wo(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(qn,"__esModule",{value:!0}),qn.default=void 0,qn.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var o=Yo(r,2),l=o[0],d=o[1];return l in e||d in e}),n=function(r,o){for(var l=e.range,d=e.limits,c=d===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:d,f=e.offset,m=f===void 0?{x:0,y:0}:f,y={range:l,grid:e,x:null,y:null},_=0;_<t.length;_++){var x=Yo(t[_],2),E=x[0],O=x[1],M=Math.round((r-m.x)/e[E]),A=Math.round((o-m.y)/e[O]);y[E]=Math.max(c.left,Math.min(c.right,M*e[E]+m.x)),y[O]=Math.max(c.top,Math.min(c.bottom,A*e[O]+m.y))}return y};return n.grid=e,n.coordFields=t,n};var on={};Object.defineProperty(on,"__esModule",{value:!0}),Object.defineProperty(on,"edgeTarget",{enumerable:!0,get:function(){return Yn.default}}),Object.defineProperty(on,"elements",{enumerable:!0,get:function(){return Wn.default}}),Object.defineProperty(on,"grid",{enumerable:!0,get:function(){return qn.default}});var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0;var ps={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,z.default)(t.snappers||{},on),t.createSnapGrid=t.snappers.grid}},vs=ps;Un.default=vs;var Dt={};function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qo(Object(n),!0).forEach(function(r){hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=Dt.aspectRatio=void 0;var Uo={start:function(e){var t=e.state,n=e.rect,r=e.edges,o=e.pageCoords,l=t.options.ratio,d=t.options,c=d.equalDelta,f=d.modifiers;l==="preserve"&&(l=n.width/n.height),t.startCoords=(0,z.default)({},o),t.startRect=(0,z.default)({},n),t.ratio=l,t.equalDelta=c;var m=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta){var y=(m.left?1:-1)*(m.top?1:-1);t.edgeSign={x:y,y}}else t.edgeSign={x:m.left?-1:1,y:m.top?-1:1};if((0,z.default)(e.edges,m),f&&f.length){var _=new wt.default(e.interaction);_.copyFrom(e.interaction.modification),_.prepareStates(f),t.subModification=_,_.startAll(jr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,o=(0,z.default)({},r),l=t.equalDelta?gs:ms;if(l(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var d=(0,z.default)({},n);(0,D.addEdges)(t.linkedEdges,d,{x:r.x-o.x,y:r.y-o.y});var c=t.subModification.setAll(jr(jr({},e),{},{rect:d,edges:t.linkedEdges,pageCoords:r,prevCoords:r,prevRect:d})),f=c.delta;return c.changed&&(l(t,Math.abs(f.x)>Math.abs(f.y),c.coords,c.rect),(0,z.default)(r,c.coords)),c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function gs(e,t,n){var r=e.startCoords,o=e.edgeSign;t?n.y=r.y+(n.x-r.x)*o.y:n.x=r.x+(n.y-r.y)*o.x}function ms(e,t,n,r){var o=e.startRect,l=e.startCoords,d=e.ratio,c=e.edgeSign;if(t){var f=r.width/d;n.y=l.y+(f-o.height)*c.y}else{var m=r.height*d;n.x=l.x+(m-o.width)*c.x}}Dt.aspectRatio=Uo;var ys=(0,be.makeModifier)(Uo,"aspectRatio");Dt.default=ys;var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=void 0;var Go=function(){};Go._defaults={};var bs=Go;xt.default=bs;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Object.defineProperty(Tr,"default",{enumerable:!0,get:function(){return xt.default}});var xe={};function Mr(e,t,n){return v.default.func(e)?D.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):D.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0,xe.getRestrictionRect=Mr,xe.restrict=void 0;var Ko={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,o=e.interaction,l=e.pageCoords,d=r.options,c=d.elementRect,f=(0,z.default)({left:0,top:0,right:0,bottom:0},d.offset||{});if(t&&c){var m=Mr(d.restriction,o,l);if(m){var y=m.right-m.left-t.width,_=m.bottom-m.top-t.height;y<0&&(f.left+=y,f.right+=y),_<0&&(f.top+=_,f.bottom+=_)}f.left+=n.left-t.width*c.left,f.top+=n.top-t.height*c.top,f.right+=n.right-t.width*(1-c.right),f.bottom+=n.bottom-t.height*(1-c.bottom)}r.offset=f},set:function(e){var t=e.coords,n=e.interaction,r=e.state,o=r.options,l=r.offset,d=Mr(o.restriction,n,t);if(d){var c=D.xywhToTlbr(d);t.x=Math.max(Math.min(c.right-l.right,t.x),c.left+l.left),t.y=Math.max(Math.min(c.bottom-l.bottom,t.y),c.top+l.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};xe.restrict=Ko;var _s=(0,be.makeModifier)(Ko,"restrict");xe.default=_s;var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.restrictEdges=We.default=void 0;var Ho={top:1/0,left:1/0,bottom:-1/0,right:-1/0},$o={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Jo(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var o=n[r];o in e||(e[o]=t[o])}return e}var Zo={noInner:Ho,noOuter:$o,start:function(e){var t,n=e.interaction,r=e.startOffset,o=e.state,l=o.options;if(l){var d=(0,xe.getRestrictionRect)(l.offset,n,n.coords.start.page);t=D.rectToXY(d)}t=t||{x:0,y:0},o.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,o=e.state,l=o.offset,d=o.options;if(n){var c=(0,z.default)({},t),f=(0,xe.getRestrictionRect)(d.inner,r,c)||{},m=(0,xe.getRestrictionRect)(d.outer,r,c)||{};Jo(f,Ho),Jo(m,$o),n.top?t.y=Math.min(Math.max(m.top+l.top,c.y),f.top+l.top):n.bottom&&(t.y=Math.max(Math.min(m.bottom+l.bottom,c.y),f.bottom+l.bottom)),n.left?t.x=Math.min(Math.max(m.left+l.left,c.x),f.left+l.left):n.right&&(t.x=Math.max(Math.min(m.right+l.right,c.x),f.right+l.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};We.restrictEdges=Zo;var ws=(0,be.makeModifier)(Zo,"restrictEdges");We.default=ws;var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.restrictRect=At.default=void 0;var Os=(0,z.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},xe.restrict.defaults),Qo={start:xe.restrict.start,set:xe.restrict.set,defaults:Os};At.restrictRect=Qo;var Ps=(0,be.makeModifier)(Qo,"restrictRect");At.default=Ps;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.restrictSize=Ct.default=void 0;var xs={width:-1/0,height:-1/0},Es={width:1/0,height:1/0},ei={start:function(e){return We.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,o=e.edges,l=n.options;if(o){var d=D.tlbrToXywh((0,xe.getRestrictionRect)(l.min,t,e.coords))||xs,c=D.tlbrToXywh((0,xe.getRestrictionRect)(l.max,t,e.coords))||Es;n.options={endOnly:l.endOnly,inner:(0,z.default)({},We.restrictEdges.noInner),outer:(0,z.default)({},We.restrictEdges.noOuter)},o.top?(n.options.inner.top=r.bottom-d.height,n.options.outer.top=r.bottom-c.height):o.bottom&&(n.options.inner.bottom=r.top+d.height,n.options.outer.bottom=r.top+c.height),o.left?(n.options.inner.left=r.right-d.width,n.options.outer.left=r.right-c.width):o.right&&(n.options.inner.right=r.left+d.width,n.options.outer.right=r.left+c.width),We.restrictEdges.set(e),n.options=l}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ct.restrictSize=ei;var Ss=(0,be.makeModifier)(ei,"restrictSize");Ct.default=Ss;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Object.defineProperty(Ir,"default",{enumerable:!0,get:function(){return xt.default}});var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.snap=lt.default=void 0;var ti={start:function(e){var t,n=e.interaction,r=e.interactable,o=e.element,l=e.rect,d=e.state,c=e.startOffset,f=d.options,m=f.offsetWithOrigin?function(x){var E=x.interaction.element;return(0,D.rectToXY)((0,D.resolveRectLike)(x.state.options.origin,null,null,[E]))||(0,C.default)(x.interactable,E,x.interaction.prepared.name)}(e):{x:0,y:0};if(f.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var y=(0,D.resolveRectLike)(f.offset,r,o,[n]);(t=(0,D.rectToXY)(y)||{x:0,y:0}).x+=m.x,t.y+=m.y}var _=f.relativePoints;d.offsets=l&&_&&_.length?_.map(function(x,E){return{index:E,relativePoint:x,x:c.left-l.width*x.x+t.x,y:c.top-l.height*x.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,o=r.options,l=r.offsets,d=(0,C.default)(t.interactable,t.element,t.prepared.name),c=(0,z.default)({},n),f=[];o.offsetWithOrigin||(c.x-=d.x,c.y-=d.y);for(var m=0;m<l.length;m++)for(var y=l[m],_=c.x-y.x,x=c.y-y.y,E=0,O=o.targets.length;E<O;E++){var M,A=o.targets[E];(M=v.default.func(A)?A(_,x,t._proxy,y,E):A)&&f.push({x:(v.default.number(M.x)?M.x:_)+y.x,y:(v.default.number(M.y)?M.y:x)+y.y,range:v.default.number(M.range)?M.range:o.range,source:A,index:E,offset:y})}for(var I={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},L=0;L<f.length;L++){var V=f[L],q=V.range,J=V.x-c.x,oe=V.y-c.y,K=(0,Oe.default)(J,oe),re=K<=q;q===1/0&&I.inRange&&I.range!==1/0&&(re=!1),I.target&&!(re?I.inRange&&q!==1/0?K/q<I.distance/I.range:q===1/0&&I.range!==1/0||K<I.distance:!I.inRange&&K<I.distance)||(I.target=V,I.distance=K,I.range=q,I.inRange=re,I.delta.x=J,I.delta.y=oe)}return I.inRange&&(n.x=I.target.x,n.y=I.target.y),r.closest=I,I},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};lt.snap=ti;var ks=(0,be.makeModifier)(ti,"snap");lt.default=ks;var Qe={};function ni(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.snapSize=Qe.default=void 0;var ri={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],lt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,r=e.interaction,o=e.state,l=e.coords,d=o.options,c=o.offsets,f={x:l.x-c[0].x,y:l.y-c[0].y};o.options=(0,z.default)({},d),o.options.targets=[];for(var m=0;m<(d.targets||[]).length;m++){var y=(d.targets||[])[m],_=void 0;if(_=v.default.func(y)?y(f.x,f.y,r):y){for(var x=0;x<o.targetFields.length;x++){var E=(t=o.targetFields[x],n=2,function(I){if(Array.isArray(I))return I}(t)||function(I,L){var V=I==null?null:typeof Symbol!="undefined"&&I[Symbol.iterator]||I["@@iterator"];if(V!=null){var q,J,oe=[],K=!0,re=!1;try{for(V=V.call(I);!(K=(q=V.next()).done)&&(oe.push(q.value),!L||oe.length!==L);K=!0);}catch(Ne){re=!0,J=Ne}finally{try{K||V.return==null||V.return()}finally{if(re)throw J}}return oe}}(t,n)||function(I,L){if(I){if(typeof I=="string")return ni(I,L);var V=Object.prototype.toString.call(I).slice(8,-1);return V==="Object"&&I.constructor&&(V=I.constructor.name),V==="Map"||V==="Set"?Array.from(I):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?ni(I,L):void 0}}(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),O=E[0],M=E[1];if(O in _||M in _){_.x=_[O],_.y=_[M];break}}o.options.targets.push(_)}}var A=lt.snap.set(e);return o.options=d,A},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Qe.snapSize=ri;var js=(0,be.makeModifier)(ri,"snapSize");Qe.default=js;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.snapEdges=zt.default=void 0;var oi={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Qe.snapSize.start(e)):null},set:Qe.snapSize.set,defaults:(0,z.default)((0,_t.default)(Qe.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};zt.snapEdges=oi;var Ts=(0,be.makeModifier)(oi,"snapEdges");zt.default=Ts;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Object.defineProperty(Dr,"default",{enumerable:!0,get:function(){return xt.default}});var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Object.defineProperty(Ar,"default",{enumerable:!0,get:function(){return xt.default}});var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var Ms={aspectRatio:Dt.default,restrictEdges:We.default,restrict:xe.default,restrictRect:At.default,restrictSize:Ct.default,snapEdges:zt.default,snap:lt.default,snapSize:Qe.default,spring:Dr.default,avoid:Tr.default,transform:Ar.default,rubberband:Ir.default};Rt.default=Ms;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.default=void 0;var Is={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(be.default),e.usePlugin(Un.default),t.modifiers=Rt.default,Rt.default){var r=Rt.default[n],o=r._defaults,l=r._methods;o._methods=l,e.defaults.perAction[n]=o}}},Ds=Is;an.default=Ds;var Et={};function Cr(e){return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},zr(e,t)}function Cs(e,t){if(t&&(Cr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(e)}Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=Et.PointerEvent=void 0;var zs=function(e){(function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),f&&zr(c,f)})(d,e);var t,n,r,o,l=(r=d,o=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,f=Gn(r);if(o){var m=Gn(this).constructor;c=Reflect.construct(f,arguments,m)}else c=f.apply(this,arguments);return Cs(this,c)});function d(c,f,m,y,_,x){var E;if(function(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}(this,d),E=l.call(this,_),R.pointerExtend(Rr(E),m),m!==f&&R.pointerExtend(Rr(E),f),E.timeStamp=x,E.originalEvent=m,E.type=c,E.pointerId=R.getPointerId(f),E.pointerType=R.getPointerType(f),E.target=y,E.currentTarget=null,c==="tap"){var O=_.getPointerIndex(f);E.dt=E.timeStamp-_.pointers[O].downTime;var M=E.timeStamp-_.tapTime;E.double=!!_.prevTap&&_.prevTap.type!=="doubletap"&&_.prevTap.target===E.target&&M<500}else c==="doubletap"&&(E.dt=f.timeStamp-_.tapTime,E.double=!0);return E}return t=d,(n=[{key:"_subtractOrigin",value:function(c){var f=c.x,m=c.y;return this.pageX-=f,this.pageY-=m,this.clientX-=f,this.clientY-=m,this}},{key:"_addOrigin",value:function(c){var f=c.x,m=c.y;return this.pageX+=f,this.pageY+=m,this.clientX+=f,this.clientY+=m,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&As(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),d}(Tt.BaseEvent);Et.PointerEvent=Et.default=zs;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=void 0;var Kn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Kn,e.defaults.actions.pointerEvents=Kn.defaults,(0,z.default)(e.actions.phaselessTypes,Kn.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,o=e.event,l=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Lr(e),ut({interaction:n,pointer:r,event:o,eventTarget:l,type:"move"},t))},"interactions:down":function(e,t){(function(n,r){for(var o=n.interaction,l=n.pointer,d=n.event,c=n.eventTarget,f=n.pointerIndex,m=o.pointers[f].hold,y=N.getPath(c),_={interaction:o,pointer:l,event:d,eventTarget:c,type:"hold",targets:[],path:y,node:null},x=0;x<y.length;x++){var E=y[x];_.node=E,r.fire("pointerEvents:collect-targets",_)}if(_.targets.length){for(var O=1/0,M=0;M<_.targets.length;M++){var A=_.targets[M].eventable.options.holdDuration;A<O&&(O=A)}m.duration=O,m.timeout=setTimeout(function(){ut({interaction:o,eventTarget:c,pointer:l,event:d,type:"hold"},r)},O)}})(e,t),ut(e,t)},"interactions:up":function(e,t){Lr(e),ut(e,t),function(n,r){var o=n.interaction,l=n.pointer,d=n.event,c=n.eventTarget;o.pointerWasMoved||ut({interaction:o,eventTarget:c,pointer:l,event:d,type:"tap"},r)}(e,t)},"interactions:cancel":function(e,t){Lr(e),ut(e,t)}},PointerEvent:Et.PointerEvent,fire:ut,collectEventTargets:ii,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ut(e,t){var n=e.interaction,r=e.pointer,o=e.event,l=e.eventTarget,d=e.type,c=e.targets,f=c===void 0?ii(e,t):c,m=new Et.PointerEvent(d,r,o,l,n,t.now());t.fire("pointerEvents:new",{pointerEvent:m});for(var y={interaction:n,pointer:r,event:o,eventTarget:l,targets:f,type:d,pointerEvent:m},_=0;_<f.length;_++){var x=f[_];for(var E in x.props||{})m[E]=x.props[E];var O=(0,C.default)(x.eventable,x.node);if(m._subtractOrigin(O),m.eventable=x.eventable,m.currentTarget=x.node,x.eventable.fire(m),m._addOrigin(O),m.immediatePropagationStopped||m.propagationStopped&&_+1<f.length&&f[_+1].node!==m.currentTarget)break}if(t.fire("pointerEvents:fired",y),d==="tap"){var M=m.double?ut({interaction:n,pointer:r,event:o,eventTarget:l,type:"doubletap"},t):m;n.prevTap=M,n.tapTime=M.timeStamp}return m}function ii(e,t){var n=e.interaction,r=e.pointer,o=e.event,l=e.eventTarget,d=e.type,c=n.getPointerIndex(r),f=n.pointers[c];if(d==="tap"&&(n.pointerWasMoved||!f||f.downTarget!==l))return[];for(var m=N.getPath(l),y={interaction:n,pointer:r,event:o,eventTarget:l,type:d,path:m,targets:[],node:null},_=0;_<m.length;_++){var x=m[_];y.node=x,t.fire("pointerEvents:collect-targets",y)}return d==="hold"&&(y.targets=y.targets.filter(function(E){var O;return E.eventable.options.holdDuration===((O=n.pointers[c])==null?void 0:O.hold.duration)})),y.targets}function Lr(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Rs=Kn;sn.default=Rs;var Hn={};function Ls(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0;var Fs={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(sn.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Ls,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,o=e.eventTarget,l=e.targets;if(r.type==="hold"&&l.length){var d=l[0].eventable.options.holdRepeatInterval;d<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:r,event:r},t)},d))}}})},Ns=Fs;Hn.default=Ns;var $n={};function Vs(e){return(0,z.default)(this.events.options,e),this}Object.defineProperty($n,"__esModule",{value:!0}),$n.default=void 0;var Xs={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Vs;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(r,o){var l=n.call(this,r,o);return l===this&&(this.events.options[r]=o),l}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,o=e.type,l=e.eventTarget;t.interactables.forEachMatch(r,function(d){var c=d.events,f=c.options;c.types[o]&&c.types[o].length&&d.testIgnoreAllow(f,r,l)&&n.push({node:r,eventable:c,props:{interactable:d}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,z.default)(n.events.options,t.pointerEvents.defaults),(0,z.default)(n.events.options,r.pointerEvents||{})}}},Bs=Xs;$n.default=Bs;var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.default=void 0;var Ys={id:"pointer-events",install:function(e){e.usePlugin(sn),e.usePlugin(Hn.default),e.usePlugin($n.default)}},Ws=Ys;ln.default=Ws;var Lt={};function ai(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(r,o,l){for(var d=v.default.string(r.target)?te.from(r._context.querySelectorAll(r.target)):[r.target],c=l.window.Promise,f=c?[]:null,m=function(){var _=d[y],x=r.getRect(_);if(!x)return"break";var E=te.find(l.interactions.list,function(L){return L.interacting()&&L.interactable===r&&L.element===_&&L.prepared.name===o.name}),O=void 0;if(E)E.move(),f&&(O=E._reflowPromise||new c(function(L){E._reflowResolve=L}));else{var M=(0,D.tlbrToXywh)(x),A={page:{x:M.x,y:M.y},client:{x:M.x,y:M.y},timeStamp:l.now()},I=R.coordsToEvent(A);O=function(L,V,q,J,oe){var K=L.interactions.new({pointerType:"reflow"}),re={interaction:K,event:oe,pointer:oe,eventTarget:q,phase:"reflow"};K.interactable=V,K.element=q,K.prevEvent=oe,K.updatePointer(oe,oe,q,!0),R.setZeroCoords(K.coords.delta),(0,Le.copyAction)(K.prepared,J),K._doPhase(re);var Ne=L.window.Promise,et=Ne?new Ne(function(Vr){K._reflowResolve=Vr}):void 0;return K._reflowPromise=et,K.start(J,V,q),K._interacting?(K.move(re),K.end(oe)):(K.stop(),K._reflowResolve()),K.removePointer(oe,oe),et}(l,r,_,o,I)}f&&f.push(O)},y=0;y<d.length&&m()!=="break";y++);return f&&c.all(f).then(function(){return r})}(this,n,e)}}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0,Lt.install=ai;var qs={id:"reflow",install:ai,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),te.remove(t.interactions.list,n))}}},Us=qs;Lt.default=Us;var Fe={exports:{}};function Fr(e){return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}Object.defineProperty(Fe.exports,"__esModule",{value:!0}),Fe.exports.default=void 0,we.default.use(bt.default),we.default.use(at.default),we.default.use(ln.default),we.default.use(Pt.default),we.default.use(an.default),we.default.use(Ut.default),we.default.use(Wt.default),we.default.use(Je.default),we.default.use(Lt.default);var Gs=we.default;if(Fe.exports.default=Gs,Fr(Fe)==="object"&&Fe)try{Fe.exports=we.default}catch{}we.default.default=we.default,Wt.default,Je.default,Ut.default,bt.default,Tn.default,Pt.default,we.default,an.default,at.default,ln.default,Lt.default,Fe=Fe.exports;var St={exports:{}};function Nr(e){return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}Object.defineProperty(St.exports,"__esModule",{value:!0}),St.exports.default=void 0;var Ks=Fe.default;if(St.exports.default=Ks,Nr(St)==="object"&&St)try{St.exports=Fe.default}catch{}return Fe.default.default=Fe.default,St.exports})})($i);var Ji=jl($i.exports);function yi(i,a,u){const s=i.slice();return s[8]=a[u][0],s[9]=a[u][1],s}function bi(i){let a,u=i[8]+"",s,p,g,h;function v(){return i[5](i[9])}return{c(){a=Z("div"),s=Te(u),p=Ee(),G(a,"class","item svelte-o6bgr")},m(b,P){ee(b,a,P),U(a,s),U(a,p),g||(h=Me(a,"click",v),g=!0)},p(b,P){i=b,P&1&&u!==(u=i[8]+"")&&ft(s,u)},d(b){b&&Q(a),g=!1,h()}}}function Tl(i){let a,u=Object.entries(i[0]),s=[];for(let p=0;p<u.length;p+=1)s[p]=bi(yi(i,u,p));return{c(){a=Z("div");for(let p=0;p<s.length;p+=1)s[p].c();G(a,"class","context-menu svelte-o6bgr"),Se(a,"top",i[2]+"px"),Se(a,"left",i[1]+"px")},m(p,g){ee(p,a,g);for(let h=0;h<s.length;h+=1)s[h].m(a,null);i[6](a)},p(p,[g]){if(g&17){u=Object.entries(p[0]);let h;for(h=0;h<u.length;h+=1){const v=yi(p,u,h);s[h]?s[h].p(v,g):(s[h]=bi(v),s[h].c(),s[h].m(a,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=u.length}g&4&&Se(a,"top",p[2]+"px"),g&2&&Se(a,"left",p[1]+"px")},i:je,o:je,d(p){p&&Q(a),rt(s,p),i[6](null)}}}function Ml(i,a,u){const s=pl();let{items:p={}}=a,{x:g,y:h}=a,v;document.addEventListener("pointerdown",b,!0);function b(w){w.composedPath().includes(v)||(document.removeEventListener("pointerdown",b,!0),s("close"))}const P=w=>{w(),s("close")};function T(w){me[w?"unshift":"push"](()=>{v=w,u(3,v)})}return i.$$set=w=>{"items"in w&&u(0,p=w.items),"x"in w&&u(1,g=w.x),"y"in w&&u(2,h=w.y)},[p,g,h,v,s,P,T]}class Il extends Ce{constructor(a){super(),Ae(this,a,Ml,Tl,Pe,{items:0,x:1,y:2})}}function Dl(i){let a,u=`${i[0]}px`,s,p,g;const h=i[2].default,v=nl(h,i,i[1],null);return{c(){a=Z("button"),v&&v.c(),G(a,"class","mousedrag svelte-kpxrrm"),Se(a,"padding",u,!1)},m(b,P){ee(b,a,P),v&&v.m(a,null),s=!0,p||(g=Me(a,"click",i[3]),p=!0)},p(b,[P]){v&&v.p&&(!s||P&2)&&ol(v,h,b,b[1],s?rl(h,b[1],P,null):il(b[1]),null),P&1&&u!==(u=`${b[0]}px`)&&Se(a,"padding",u,!1)},i(b){s||(F(v,b),s=!0)},o(b){B(v,b),s=!1},d(b){b&&Q(a),v&&v.d(b),p=!1,g()}}}function Al(i,a,u){let{$$slots:s={},$$scope:p}=a,{padding:g=16}=a;function h(v){vl.call(this,i,v)}return i.$$set=v=>{"padding"in v&&u(0,g=v.padding),"$$scope"in v&&u(1,p=v.$$scope)},[g,p,s,h]}class Cl extends Ce{constructor(a){super(),Ae(this,a,Al,Dl,Pe,{padding:0})}}function _i(i){let a,u,s,p,g,h,v,b,P,T,w,S,k,j,X,pe;return k=new Cl({props:{$$slots:{default:[zl]},$$scope:{ctx:i}}}),k.$on("click",i[3]),{c(){a=Z("div"),u=Ee(),s=Z("div"),p=Z("h2"),g=Te(i[1]),h=Ee(),v=Z("p"),b=Te(i[2]),P=Ee(),T=Z("br"),w=Ee(),S=Z("div"),de(k.$$.fragment),G(a,"class","modal-background svelte-s2dpky"),G(v,"class","svelte-s2dpky"),G(S,"class","svelte-s2dpky"),G(s,"class","modal svelte-s2dpky"),G(s,"role","dialog"),G(s,"aria-modal","true")},m(W,$){ee(W,a,$),ee(W,u,$),ee(W,s,$),U(s,p),U(p,g),U(s,h),U(s,v),U(v,b),U(s,P),U(s,T),U(s,w),U(s,S),ce(k,S,null),i[5](s),j=!0,X||(pe=Me(a,"click",i[3]),X=!0)},p(W,$){(!j||$&2)&&ft(g,W[1]),(!j||$&4)&&ft(b,W[2]);const ve={};$&128&&(ve.$$scope={dirty:$,ctx:W}),k.$set(ve)},i(W){j||(F(k.$$.fragment,W),j=!0)},o(W){B(k.$$.fragment,W),j=!1},d(W){W&&Q(a),W&&Q(u),W&&Q(s),fe(k),i[5](null),X=!1,pe()}}}function zl(i){let a;return{c(){a=Te("OK")},m(u,s){ee(u,a,s)},d(u){u&&Q(a)}}}function Rl(i){let a,u,s,p,g=i[1]&&_i(i);return{c(){g&&g.c(),a=Bt()},m(h,v){g&&g.m(h,v),ee(h,a,v),u=!0,s||(p=Me(window,"keydown",i[4]),s=!0)},p(h,[v]){h[1]?g?(g.p(h,v),v&2&&F(g,1)):(g=_i(h),g.c(),F(g,1),g.m(a.parentNode,a)):g&&(Ie(),B(g,1,1,()=>{g=null}),De())},i(h){u||(F(g),u=!0)},o(h){B(g),u=!1},d(h){g&&g.d(h),h&&Q(a),s=!1,p()}}}let Gr={};ke.subscribe(i=>{Gr=i});let Zi=jt(""),Kr=jt("");async function Ll(i){Kr.set(Gr[i].type);const a=await Wi(Gr[i].type);Zi.set(a.doc||"No documentation available for this node.")}function Fl(i,a,u){let s,p;qe(i,Kr,T=>u(1,s=T)),qe(i,Zi,T=>u(2,p=T));const g=()=>{dn(Kr,s="",s)};let h;const v=T=>{if(T.key==="Escape"){g();return}if(T.key==="Tab"){const w=h.querySelectorAll("*"),S=Array.from(w).filter(j=>j.tabIndex>=0);let k=S.indexOf(document.activeElement);k===-1&&T.shiftKey&&(k=0),k+=S.length+(T.shiftKey?-1:1),k%=S.length,S[k].focus(),T.preventDefault()}},b=typeof document!="undefined"&&document.activeElement;b&&dl(()=>{b.focus()});function P(T){me[T?"unshift":"push"](()=>{h=T,u(0,h)})}return[h,s,p,g,v,P]}class Nl extends Ce{constructor(a){super(),Ae(this,a,Fl,Rl,Pe,{})}}function Vl(i){let a,u,s,p,g,h;return{c(){a=Z("div"),u=Z("div"),s=Z("span"),p=Te(i[2]),G(u,"class","handle svelte-6j6dh"),Ft(u,"midi",i[2]==="MIDI"),G(a,"class","port svelte-6j6dh"),Ft(a,"input",i[1]===Ye.Input),Ft(a,"output",i[1]===Ye.Output)},m(v,b){ee(v,a,b),U(a,u),U(u,s),U(s,p),i[6](u),g||(h=[Me(u,"pointerdown",i[3]),Me(u,"pointerup",i[4])],g=!0)},p(v,[b]){b&4&&ft(p,v[2]),b&4&&Ft(u,"midi",v[2]==="MIDI"),b&2&&Ft(a,"input",v[1]===Ye.Input),b&2&&Ft(a,"output",v[1]===Ye.Output)},i:je,o:je,d(v){v&&Q(a),i[6](null),g=!1,dt(h)}}}var Ye;(function(i){i[i.Input=0]="Input",i[i.Output=1]="Output"})(Ye||(Ye={}));function Wr(i){return i.pointerType!=="mouse"||i.buttons===1}function Xl(i,a,u){let{type:s}=a,{id:p}=a,{name:g}=a,{handle:h}=a;function v(T){if(s===Ye.Input){if(Wr(T)){let w=function(S){if(Wr(S)){S.stopPropagation();let k,j;ke.update(X=>{for(const pe of Object.entries(X))for(const W of Object.entries(pe[1].outputs))for(const $ of W[1].connections)$[0]===p&&$[1]===g&&(k=pe[0],j=W[0]);return X}),k&&(Ol(k,j,[p,g]),cn.update(X=>(X.from=[k,j],X)))}};T.stopPropagation(),T.target.addEventListener("pointerleave",w),window.addEventListener("pointerup",()=>{T.target.removeEventListener("pointerleave",w)})}}else s===Ye.Output&&Wr(T)&&(T.stopPropagation(),cn.update(w=>(w.from=[p,g],w)))}function b(T){s===Ye.Input&&cn.update(w=>(w.from&&(Ui(w.from[0],w.from[1],[p,g]),w.from=void 0),w))}function P(T){me[T?"unshift":"push"](()=>{h=T,u(0,h)})}return i.$$set=T=>{"type"in T&&u(1,s=T.type),"id"in T&&u(5,p=T.id),"name"in T&&u(2,g=T.name),"handle"in T&&u(0,h=T.handle)},[h,s,g,v,b,p,P]}class Qi extends Ce{constructor(a){super(),Ae(this,a,Xl,Vl,Pe,{type:1,id:5,name:2,handle:0})}}function wi(i,a,u){const s=i.slice();return s[4]=a[u],s[5]=a,s[6]=u,s}function Oi(i){let a,u,s;function p(h){i[3](h,i[4])}let g={type:Ye.Input,name:i[4],id:i[1]};return i[0][i[4]]!==void 0&&(g.handle=i[0][i[4]]),a=new Qi({props:g}),me.push(()=>Be(a,"handle",p)),{c(){de(a.$$.fragment)},m(h,v){ce(a,h,v),s=!0},p(h,v){i=h;const b={};v&4&&(b.name=i[4]),v&2&&(b.id=i[1]),!u&&v&5&&(u=!0,b.handle=i[0][i[4]],ct(()=>u=!1)),a.$set(b)},i(h){s||(F(a.$$.fragment,h),s=!0)},o(h){B(a.$$.fragment,h),s=!1},d(h){fe(a,h)}}}function Bl(i){let a,u,s=i[2],p=[];for(let h=0;h<s.length;h+=1)p[h]=Oi(wi(i,s,h));const g=h=>B(p[h],1,1,()=>{p[h]=null});return{c(){a=Z("div");for(let h=0;h<p.length;h+=1)p[h].c();G(a,"class","node-inputs svelte-1jc84h5")},m(h,v){ee(h,a,v);for(let b=0;b<p.length;b+=1)p[b].m(a,null);u=!0},p(h,[v]){if(v&7){s=h[2];let b;for(b=0;b<s.length;b+=1){const P=wi(h,s,b);p[b]?(p[b].p(P,v),F(p[b],1)):(p[b]=Oi(P),p[b].c(),F(p[b],1),p[b].m(a,null))}for(Ie(),b=s.length;b<p.length;b+=1)g(b);De()}},i(h){if(!u){for(let v=0;v<s.length;v+=1)F(p[v]);u=!0}},o(h){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)B(p[v]);u=!1},d(h){h&&Q(a),rt(p,h)}}}function Yl(i,a,u){let{id:s}=a,{inputs:p=[]}=a,{handles:g={}}=a;function h(v,b){i.$$.not_equal(g[b],v)&&(g[b]=v,u(0,g))}return i.$$set=v=>{"id"in v&&u(1,s=v.id),"inputs"in v&&u(2,p=v.inputs),"handles"in v&&u(0,g=v.handles)},[g,s,p,h]}class Wl extends Ce{constructor(a){super(),Ae(this,a,Yl,Bl,Pe,{id:1,inputs:2,handles:0})}}function Pi(i,a,u){const s=i.slice();return s[4]=a[u],s[5]=a,s[6]=u,s}function xi(i){let a,u,s;function p(h){i[3](h,i[4])}let g={type:Ye.Output,name:i[4],id:i[1]};return i[0][i[4]]!==void 0&&(g.handle=i[0][i[4]]),a=new Qi({props:g}),me.push(()=>Be(a,"handle",p)),{c(){de(a.$$.fragment)},m(h,v){ce(a,h,v),s=!0},p(h,v){i=h;const b={};v&4&&(b.name=i[4]),v&2&&(b.id=i[1]),!u&&v&5&&(u=!0,b.handle=i[0][i[4]],ct(()=>u=!1)),a.$set(b)},i(h){s||(F(a.$$.fragment,h),s=!0)},o(h){B(a.$$.fragment,h),s=!1},d(h){fe(a,h)}}}function ql(i){let a,u,s=i[2],p=[];for(let h=0;h<s.length;h+=1)p[h]=xi(Pi(i,s,h));const g=h=>B(p[h],1,1,()=>{p[h]=null});return{c(){a=Z("div");for(let h=0;h<p.length;h+=1)p[h].c();G(a,"class","node-outputs svelte-rfxs8q")},m(h,v){ee(h,a,v);for(let b=0;b<p.length;b+=1)p[b].m(a,null);u=!0},p(h,[v]){if(v&7){s=h[2];let b;for(b=0;b<s.length;b+=1){const P=Pi(h,s,b);p[b]?(p[b].p(P,v),F(p[b],1)):(p[b]=xi(P),p[b].c(),F(p[b],1),p[b].m(a,null))}for(Ie(),b=s.length;b<p.length;b+=1)g(b);De()}},i(h){if(!u){for(let v=0;v<s.length;v+=1)F(p[v]);u=!0}},o(h){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)B(p[v]);u=!1},d(h){h&&Q(a),rt(p,h)}}}function Ul(i,a,u){let{id:s}=a,{inputs:p=[]}=a,{handles:g={}}=a;function h(v,b){i.$$.not_equal(g[b],v)&&(g[b]=v,u(0,g))}return i.$$set=v=>{"id"in v&&u(1,s=v.id),"inputs"in v&&u(2,p=v.inputs),"handles"in v&&u(0,g=v.handles)},[g,s,p,h]}class Gl extends Ce{constructor(a){super(),Ae(this,a,Ul,ql,Pe,{id:1,inputs:2,handles:0})}}function Ei(i){let a,u;return a=new Il({props:{items:i[17],x:i[14].x,y:i[14].y}}),a.$on("close",i[18]),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&16384&&(g.x=s[14].x),p&16384&&(g.y=s[14].y),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function Kl(i){let a,u,s,p,g,h,v,b,P,T,w=vi(i[4])+"",S,k,j,X,pe,W,$,ve,ze,ue,le,pt,N,ie=i[13]&&Ei(i);u=new kl({});function ot(C){i[19](C)}let it={id:i[3],inputs:Object.keys(i[10])};i[11]!==void 0&&(it.handles=i[11]),h=new Wl({props:it}),me.push(()=>Be(h,"handles",ot));function vt(C){i[20](C)}function ht(C){i[21](C)}function gt(C){i[22](C)}var z=i[5];function D(C){let H={id:C[3]};return C[2]!==void 0&&(H.state=C[2]),C[6]!==void 0&&(H.inputs=C[6]),C[7]!==void 0&&(H.outputs=C[7]),{props:H}}z&&(j=new z(D(i)),me.push(()=>Be(j,"state",vt)),me.push(()=>Be(j,"inputs",ht)),me.push(()=>Be(j,"outputs",gt)),j.$on("resize",i[23]));function Ve(C){i[24](C)}let ye={id:i[3],inputs:Object.keys(i[9])};return i[12]!==void 0&&(ye.handles=i[12]),ze=new Gl({props:ye}),me.push(()=>Be(ze,"handles",Ve)),{c(){ie&&ie.c(),a=Ee(),de(u.$$.fragment),s=Ee(),p=Z("div"),g=Z("div"),de(h.$$.fragment),b=Ee(),P=Z("div"),T=Z("h1"),S=Te(w),k=Ee(),j&&de(j.$$.fragment),$=Ee(),ve=Z("div"),de(ze.$$.fragment),G(g,"class","inputs svelte-ox4cas"),G(T,"class","svelte-ox4cas"),G(P,"class","body svelte-ox4cas"),G(ve,"class","outputs svelte-ox4cas"),G(p,"class","node svelte-ox4cas"),Se(p,"--x",i[0]+"px"),Se(p,"--y",i[1]+"px")},m(C,H){ie&&ie.m(C,H),ee(C,a,H),ce(u,C,H),ee(C,s,H),ee(C,p,H),U(p,g),ce(h,g,null),U(p,b),U(p,P),U(P,T),U(T,S),U(P,k),j&&ce(j,P,null),U(p,$),U(p,ve),ce(ze,ve,null),i[25](p),le=!0,pt||(N=[Me(window,"resize",i[15]),Me(p,"contextmenu",al(i[16]))],pt=!0)},p(C,[H]){C[13]?ie?(ie.p(C,H),H&8192&&F(ie,1)):(ie=Ei(C),ie.c(),F(ie,1),ie.m(a.parentNode,a)):ie&&(Ie(),B(ie,1,1,()=>{ie=null}),De());const Ue={};H&8&&(Ue.id=C[3]),H&1024&&(Ue.inputs=Object.keys(C[10])),!v&&H&2048&&(v=!0,Ue.handles=C[11],ct(()=>v=!1)),h.$set(Ue),(!le||H&16)&&w!==(w=vi(C[4])+"")&&ft(S,w);const Oe={};if(H&8&&(Oe.id=C[3]),!X&&H&4&&(X=!0,Oe.state=C[2],ct(()=>X=!1)),!pe&&H&64&&(pe=!0,Oe.inputs=C[6],ct(()=>pe=!1)),!W&&H&128&&(W=!0,Oe.outputs=C[7],ct(()=>W=!1)),z!==(z=C[5])){if(j){Ie();const R=j;B(R.$$.fragment,1,0,()=>{fe(R,1)}),De()}z?(j=new z(D(C)),me.push(()=>Be(j,"state",vt)),me.push(()=>Be(j,"inputs",ht)),me.push(()=>Be(j,"outputs",gt)),j.$on("resize",C[23]),de(j.$$.fragment),F(j.$$.fragment,1),ce(j,P,null)):j=null}else z&&j.$set(Oe);const Ge={};H&8&&(Ge.id=C[3]),H&512&&(Ge.inputs=Object.keys(C[9])),!ue&&H&4096&&(ue=!0,Ge.handles=C[12],ct(()=>ue=!1)),ze.$set(Ge),(!le||H&1)&&Se(p,"--x",C[0]+"px"),(!le||H&2)&&Se(p,"--y",C[1]+"px")},i(C){le||(F(ie),F(u.$$.fragment,C),F(h.$$.fragment,C),j&&F(j.$$.fragment,C),F(ze.$$.fragment,C),le=!0)},o(C){B(ie),B(u.$$.fragment,C),B(h.$$.fragment,C),j&&B(j.$$.fragment,C),B(ze.$$.fragment,C),le=!1},d(C){ie&&ie.d(C),C&&Q(a),fe(u,C),C&&Q(s),C&&Q(p),fe(h),j&&fe(j),fe(ze),i[25](null),pt=!1,dt(N)}}}function Hl(i,a){for(const u of i.composedPath())if(u.classList&&u.classList.contains(a))return!0;return!1}function $l(i){const a=i.getBoundingClientRect();return{x:(a.left+a.right)/2,y:(a.top+a.bottom)/2}}function Jl(i,a,u){let s,p;qe(i,mn,D=>u(26,s=D)),qe(i,ke,D=>u(27,p=D));let{id:g}=a,{type:h}=a,{x:v=0}=a,{y:b=0}=a,{gui:P}=a,{state:T}=a,w={},S={},k={},j={},X={},pe={};dn(ke,p[g].inputs=j,p),dn(ke,p[g].outputs=k,p);function W(D,Ve){for(const[ye,C]of Object.entries(D)){console.log(ye);const H=$l(C),{x:Ue,y:Oe}=gi(H);Ve[ye].x=Ue,Ve[ye].y=Oe}}function $(){ke.update(D=>(D[g].x=v,D[g].y=b,W(X,D[g].inputs),W(pe,D[g].outputs),D))}let ve;Xi(async()=>{Ji(ve).styleCursor(!1).draggable({ignoreFrom:"* .mousedrag",listeners:{move:D=>{console.log(D),D.preventDefault(),u(0,v+=D.dx/s),u(1,b+=D.dy/s),$()}}}),await di(),$()});let ze=!1,ue;function le(D){u(14,ue=gi({x:D.clientX,y:D.clientY})),u(13,ze=!0)}const pt={Info:()=>{Ll(g)},"Delete Node":()=>{wl(g)}},N=()=>{u(13,ze=!1)};function ie(D){X=D,u(11,X)}function ot(D){T=D,u(2,T)}function it(D){w=D,u(6,w)}function vt(D){S=D,u(7,S)}const ht=async()=>{await di(),$()};function gt(D){pe=D,u(12,pe)}function z(D){me[D?"unshift":"push"](()=>{ve=D,u(8,ve)})}return i.$$set=D=>{"id"in D&&u(3,g=D.id),"type"in D&&u(4,h=D.type),"x"in D&&u(0,v=D.x),"y"in D&&u(1,b=D.y),"gui"in D&&u(5,P=D.gui),"state"in D&&u(2,T=D.state)},i.$$.update=()=>{var D,Ve;if(i.$$.dirty&1728){for(const[ye,C]of Object.entries(w))u(10,(D=j[ye])!=null?D:j[ye]={x:0,y:0},j).node=C;for(const[ye,C]of Object.entries(S))u(9,(Ve=k[ye])!=null?Ve:k[ye]={x:0,y:0,connections:new Set,active:!1},k).node=C}},[v,b,T,g,h,P,w,S,ve,k,j,X,pe,ze,ue,$,le,pt,N,ie,ot,it,vt,ht,gt,z]}class Zl extends Ce{constructor(a){super(),Ae(this,a,Jl,Kl,Pe,{id:3,type:4,x:0,y:1,gui:5,state:2})}}var Xt;class ea{constructor(a,u,s){li(this,Xt,void 0);Xr(this,"key");Xr(this,"namespace");this.key=a,this.namespace=s,ui(this,Xt,u)}setValue(a){Br(this,Xt).setItem(this.key,a)}getValue(){return Br(this,Xt).getItem(this.key)}update(a){const u=this.getValue(),s=a(u);this.setValue(s)}onChange(a){fn[this.namespace][this.key]=fn[this.namespace][this.key]||[],fn[this.namespace][this.key].push(a)}}Xt=new WeakMap;class Ql extends ea{constructor(a){super(a,window.localStorage,"local")}}class eu extends ea{constructor(a){super(a,window.sessionStorage,"session")}}const tu={local:Ql,session:eu},fn={local:{},session:{}};window.addEventListener("storage",i=>{const a=i.storageArea===window.localStorage?"local":"session";fn[a][i.key]&&fn[a][i.key].forEach(u=>u(i.newValue,i.oldValue))});const Jr=new tu.local("editor-state");function ta(){const i={instances:Gi(),transform:Hi()};Jr.setValue(JSON.stringify(i))}function nu(){const i=Jr.getValue();return i&&i!==""}async function ru(){const i=JSON.parse(Jr.getValue());Zr(i)&&(i.transform&&yn(i.transform),await nr(i.instances))}async function ou(){yn({translateX:0,translateY:0,scale:1}),await nr({})}async function iu(i){const a=await fetch(`./presets/${i}.json`).then(u=>u.json());Zr(a)&&(a.transform&&yn(a.transform),await nr(a.instances))}function Zr(i){return typeof i=="object"&&i!==null&&typeof i.instances=="object"&&(i.transform===void 0||typeof i.transform=="object")}function au(){const i={instances:Gi(),transform:Hi()},a=JSON.stringify(i);uu(a,"Preset.midi-fx")}function su(i){const a=new FileReader;a.onload=async u=>{const s=JSON.parse(u.target.result);Zr(s)&&(s.transform&&yn(s.transform),await nr(s.instances))},a.readAsText(i)}function lu(){const i=document.createElement("input");i.type="file",i.accept=".midi-fx",i.onchange=()=>{i.files&&su(i.files[0])},i.click()}function uu(i,a){const u=new Blob([i],{type:"application/json"}),s=URL.createObjectURL(u),p=document.createElement("a");p.download=a,p.href=s,p.click()}function cu(i){let a,u,s,p,g,h;return{c(){a=Z("div"),u=Te("\xA0\xA0"),s=Te(i[0]),p=Te("\xA0\xA0\xA0\xA0"),G(a,"class","svelte-1yqffna")},m(v,b){ee(v,a,b),U(a,u),U(a,s),U(a,p),g||(h=Me(a,"click",function(){Ni(i[1])&&i[1].apply(this,arguments)}),g=!0)},p(v,[b]){i=v,b&1&&ft(s,i[0])},i:je,o:je,d(v){v&&Q(a),g=!1,h()}}}function fu(i,a,u){let{name:s}=a,{option:p}=a;return i.$$set=g=>{"name"in g&&u(0,s=g.name),"option"in g&&u(1,p=g.option)},[s,p]}class na extends Ce{constructor(a){super(),Ae(this,a,fu,cu,Pe,{name:0,option:1})}}function Si(i,a,u){const s=i.slice();return s[1]=a[u][0],s[2]=a[u][1],s}function du(i){let a,u;return a=new ra({props:{name:i[1],options:i[2]}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&1&&(g.name=s[1]),p&1&&(g.options=s[2]),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function pu(i){let a,u;return a=new na({props:{name:i[1],option:i[2]}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&1&&(g.name=s[1]),p&1&&(g.option=s[2]),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function ki(i){let a,u,s,p;const g=[pu,du],h=[];function v(b,P){return typeof b[2]=="function"?0:1}return a=v(i),u=h[a]=g[a](i),{c(){u.c(),s=Bt()},m(b,P){h[a].m(b,P),ee(b,s,P),p=!0},p(b,P){let T=a;a=v(b),a===T?h[a].p(b,P):(Ie(),B(h[T],1,1,()=>{h[T]=null}),De(),u=h[a],u?u.p(b,P):(u=h[a]=g[a](b),u.c()),F(u,1),u.m(s.parentNode,s))},i(b){p||(F(u),p=!0)},o(b){B(u),p=!1},d(b){h[a].d(b),b&&Q(s)}}}function vu(i){let a,u,s,p,g,h,v,b,P=Object.entries(i[0]),T=[];for(let S=0;S<P.length;S+=1)T[S]=ki(Si(i,P,S));const w=S=>B(T[S],1,1,()=>{T[S]=null});return{c(){a=Z("div"),u=Z("div"),s=Te("\xA0\xA0"),p=Te(i[1]),g=Te("\xA0\xA0 \u3009\xA0\xA0"),h=Ee(),v=Z("div");for(let S=0;S<T.length;S+=1)T[S].c();G(u,"class","name svelte-4xf1m"),G(v,"class","submenu svelte-4xf1m"),G(a,"class","option svelte-4xf1m")},m(S,k){ee(S,a,k),U(a,u),U(u,s),U(u,p),U(u,g),U(a,h),U(a,v);for(let j=0;j<T.length;j+=1)T[j].m(v,null);b=!0},p(S,[k]){if((!b||k&2)&&ft(p,S[1]),k&1){P=Object.entries(S[0]);let j;for(j=0;j<P.length;j+=1){const X=Si(S,P,j);T[j]?(T[j].p(X,k),F(T[j],1)):(T[j]=ki(X),T[j].c(),F(T[j],1),T[j].m(v,null))}for(Ie(),j=P.length;j<T.length;j+=1)w(j);De()}},i(S){if(!b){for(let k=0;k<P.length;k+=1)F(T[k]);b=!0}},o(S){T=T.filter(Boolean);for(let k=0;k<T.length;k+=1)B(T[k]);b=!1},d(S){S&&Q(a),rt(T,S)}}}function hu(i,a,u){let{name:s}=a,{options:p}=a;return i.$$set=g=>{"name"in g&&u(1,s=g.name),"options"in g&&u(0,p=g.options)},[p,s]}class ra extends Ce{constructor(a){super(),Ae(this,a,hu,vu,Pe,{name:1,options:0})}}function ji(i,a,u){const s=i.slice();return s[1]=a[u][0],s[4]=a[u][1],s}function gu(i){let a,u;return a=new ra({props:{name:i[1],options:i[4]}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&1&&(g.name=s[1]),p&1&&(g.options=s[4]),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function mu(i){let a,u;return a=new na({props:{name:i[1],option:i[4]}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&1&&(g.name=s[1]),p&1&&(g.option=s[4]),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function Ti(i){let a,u,s,p;const g=[mu,gu],h=[];function v(b,P){return typeof b[4]=="function"?0:1}return a=v(i),u=h[a]=g[a](i),{c(){u.c(),s=Bt()},m(b,P){h[a].m(b,P),ee(b,s,P),p=!0},p(b,P){let T=a;a=v(b),a===T?h[a].p(b,P):(Ie(),B(h[T],1,1,()=>{h[T]=null}),De(),u=h[a],u?u.p(b,P):(u=h[a]=g[a](b),u.c()),F(u,1),u.m(s.parentNode,s))},i(b){p||(F(u),p=!0)},o(b){B(u),p=!1},d(b){h[a].d(b),b&&Q(s)}}}function yu(i){let a,u,s,p,g,h,v,b=Object.entries(i[0]),P=[];for(let w=0;w<b.length;w+=1)P[w]=Ti(ji(i,b,w));const T=w=>B(P[w],1,1,()=>{P[w]=null});return{c(){a=Z("div"),u=Z("div"),s=Te(i[1]),g=Ee(),h=Z("div");for(let w=0;w<P.length;w+=1)P[w].c();G(u,"class","button svelte-gpsph8"),tr(()=>i[3].call(u)),G(h,"class","dropdown svelte-gpsph8"),G(a,"class","menuitem svelte-gpsph8"),Se(a,"width",i[2]+8+"px")},m(w,S){ee(w,a,S),U(a,u),U(u,s),p=ul(u,i[3].bind(u)),U(a,g),U(a,h);for(let k=0;k<P.length;k+=1)P[k].m(h,null);v=!0},p(w,[S]){if((!v||S&2)&&ft(s,w[1]),S&1){b=Object.entries(w[0]);let k;for(k=0;k<b.length;k+=1){const j=ji(w,b,k);P[k]?(P[k].p(j,S),F(P[k],1)):(P[k]=Ti(j),P[k].c(),F(P[k],1),P[k].m(h,null))}for(Ie(),k=b.length;k<P.length;k+=1)T(k);De()}(!v||S&4)&&Se(a,"width",w[2]+8+"px")},i(w){if(!v){for(let S=0;S<b.length;S+=1)F(P[S]);v=!0}},o(w){P=P.filter(Boolean);for(let S=0;S<P.length;S+=1)B(P[S]);v=!1},d(w){w&&Q(a),p(),rt(P,w)}}}function bu(i,a,u){let{name:s}=a,{options:p}=a,g;function h(){g=this.clientWidth,u(2,g)}return i.$$set=v=>{"name"in v&&u(1,s=v.name),"options"in v&&u(0,p=v.options)},[p,s,g,h]}class _u extends Ce{constructor(a){super(),Ae(this,a,bu,yu,Pe,{name:1,options:0})}}function Mi(i,a,u){const s=i.slice();return s[1]=a[u][0],s[2]=a[u][1],s}function Ii(i){let a,u;return a=new _u({props:{name:i[1],options:i[2]}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&1&&(g.name=s[1]),p&1&&(g.options=s[2]),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function wu(i){let a,u,s=Object.entries(i[0]),p=[];for(let h=0;h<s.length;h+=1)p[h]=Ii(Mi(i,s,h));const g=h=>B(p[h],1,1,()=>{p[h]=null});return{c(){a=Z("div");for(let h=0;h<p.length;h+=1)p[h].c();G(a,"class","svelte-1hj5ifq")},m(h,v){ee(h,a,v);for(let b=0;b<p.length;b+=1)p[b].m(a,null);u=!0},p(h,[v]){if(v&1){s=Object.entries(h[0]);let b;for(b=0;b<s.length;b+=1){const P=Mi(h,s,b);p[b]?(p[b].p(P,v),F(p[b],1)):(p[b]=Ii(P),p[b].c(),F(p[b],1),p[b].m(a,null))}for(Ie(),b=s.length;b<p.length;b+=1)g(b);De()}},i(h){if(!u){for(let v=0;v<s.length;v+=1)F(p[v]);u=!0}},o(h){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)B(p[v]);u=!1},d(h){h&&Q(a),rt(p,h)}}}function Ou(i,a,u){let s={File:{Clear:()=>{ou()},Load:()=>{lu()},Save:()=>{ta()},"Save as...":()=>{au()}},Add:{}};for(const[p,g]of Object.entries(Vt)){s.Add[p]={};for(const[h,v]of Object.entries(g))s.Add[p][v]=()=>{_l(h)};s=s}return[s]}class Pu extends Ce{constructor(a){super(),Ae(this,a,Ou,wu,Pe,{})}}function Di(i,a,u){const s=i.slice();return s[8]=a[u][0],s[9]=a[u][1],s[10]=a,s[11]=u,s}function Ai(i,a,u){const s=i.slice();return s[12]=a[u][0],s[13]=a[u][1],s}function Ci(i,a,u){const s=i.slice();return s[16]=a[u],s}function zi(i){let a,u;return a=new Ki({props:{x1:i[0][i[8]].outputs[i[12]].x,y1:i[0][i[8]].outputs[i[12]].y,x2:i[0][i[16][0]].inputs[i[16][1]].x,y2:i[0][i[16][0]].inputs[i[16][1]].y,active:i[13].active}}),{c(){de(a.$$.fragment)},m(s,p){ce(a,s,p),u=!0},p(s,p){const g={};p&1&&(g.x1=s[0][s[8]].outputs[s[12]].x),p&1&&(g.y1=s[0][s[8]].outputs[s[12]].y),p&1&&(g.x2=s[0][s[16][0]].inputs[s[16][1]].x),p&1&&(g.y2=s[0][s[16][0]].inputs[s[16][1]].y),p&1&&(g.active=s[13].active),a.$set(g)},i(s){u||(F(a.$$.fragment,s),u=!0)},o(s){B(a.$$.fragment,s),u=!1},d(s){fe(a,s)}}}function Ri(i){let a,u,s=[...i[13].connections.values()],p=[];for(let h=0;h<s.length;h+=1)p[h]=zi(Ci(i,s,h));const g=h=>B(p[h],1,1,()=>{p[h]=null});return{c(){for(let h=0;h<p.length;h+=1)p[h].c();a=Bt()},m(h,v){for(let b=0;b<p.length;b+=1)p[b].m(h,v);ee(h,a,v),u=!0},p(h,v){if(v&1){s=[...h[13].connections.values()];let b;for(b=0;b<s.length;b+=1){const P=Ci(h,s,b);p[b]?(p[b].p(P,v),F(p[b],1)):(p[b]=zi(P),p[b].c(),F(p[b],1),p[b].m(a.parentNode,a))}for(Ie(),b=s.length;b<p.length;b+=1)g(b);De()}},i(h){if(!u){for(let v=0;v<s.length;v+=1)F(p[v]);u=!0}},o(h){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)B(p[v]);u=!1},d(h){rt(p,h),h&&Q(a)}}}function Li(i){let a,u,s,p,g;function h(w){i[6](w,i[9])}let v={id:i[8],type:i[9].type,x:i[9].x,y:i[9].y,gui:i[9].component};i[9].state!==void 0&&(v.state=i[9].state),a=new Zl({props:v}),me.push(()=>Be(a,"state",h));let b=Object.entries(i[9].outputs),P=[];for(let w=0;w<b.length;w+=1)P[w]=Ri(Ai(i,b,w));const T=w=>B(P[w],1,1,()=>{P[w]=null});return{c(){de(a.$$.fragment),s=Ee();for(let w=0;w<P.length;w+=1)P[w].c();p=Bt()},m(w,S){ce(a,w,S),ee(w,s,S);for(let k=0;k<P.length;k+=1)P[k].m(w,S);ee(w,p,S),g=!0},p(w,S){i=w;const k={};if(S&1&&(k.id=i[8]),S&1&&(k.type=i[9].type),S&1&&(k.x=i[9].x),S&1&&(k.y=i[9].y),S&1&&(k.gui=i[9].component),!u&&S&1&&(u=!0,k.state=i[9].state,ct(()=>u=!1)),a.$set(k),S&1){b=Object.entries(i[9].outputs);let j;for(j=0;j<b.length;j+=1){const X=Ai(i,b,j);P[j]?(P[j].p(X,S),F(P[j],1)):(P[j]=Ri(X),P[j].c(),F(P[j],1),P[j].m(p.parentNode,p))}for(Ie(),j=b.length;j<P.length;j+=1)T(j);De()}},i(w){if(!g){F(a.$$.fragment,w);for(let S=0;S<b.length;S+=1)F(P[S]);g=!0}},o(w){B(a.$$.fragment,w),P=P.filter(Boolean);for(let S=0;S<P.length;S+=1)B(P[S]);g=!1},d(w){fe(a,w),w&&Q(s),rt(P,w),w&&Q(p)}}}function xu(i){let a,u,s,p,g,h,v,b,P;a=new Pu({});let T=Object.entries(i[0]),w=[];for(let k=0;k<T.length;k+=1)w[k]=Li(Di(i,T,k));const S=k=>B(w[k],1,1,()=>{w[k]=null});return h=new Nl({}),{c(){de(a.$$.fragment),u=Ee(),s=Z("div"),p=Z("main");for(let k=0;k<w.length;k+=1)w[k].c();g=Ee(),de(h.$$.fragment),Se(p,"transform","translate("+i[4]+"px, "+i[3]+"px) scale("+i[2]+")"),G(p,"class","svelte-ez9b5o"),G(s,"class","svelte-ez9b5o"),Se(s,"touch-action","none",!1)},m(k,j){ce(a,k,j),ee(k,u,j),ee(k,s,j),U(s,p);for(let X=0;X<w.length;X+=1)w[X].m(p,null);i[7](s),ee(k,g,j),ce(h,k,j),v=!0,b||(P=Me(s,"wheel",i[5]),b=!0)},p(k,[j]){if(j&1){T=Object.entries(k[0]);let X;for(X=0;X<T.length;X+=1){const pe=Di(k,T,X);w[X]?(w[X].p(pe,j),F(w[X],1)):(w[X]=Li(pe),w[X].c(),F(w[X],1),w[X].m(p,null))}for(Ie(),X=T.length;X<w.length;X+=1)S(X);De()}(!v||j&28)&&Se(p,"transform","translate("+k[4]+"px, "+k[3]+"px) scale("+k[2]+")")},i(k){if(!v){F(a.$$.fragment,k);for(let j=0;j<T.length;j+=1)F(w[j]);F(h.$$.fragment,k),v=!0}},o(k){B(a.$$.fragment,k),w=w.filter(Boolean);for(let j=0;j<w.length;j+=1)B(w[j]);B(h.$$.fragment,k),v=!1},d(k){fe(a,k),k&&Q(u),k&&Q(s),rt(w,k),i[7](null),k&&Q(g),fe(h,k),b=!1,P()}}}function Eu(i,a,u){let s,p,g;qe(i,mn,w=>u(2,s=w)),qe(i,hn,w=>u(3,p=w)),qe(i,vn,w=>u(4,g=w)),Xi(async()=>{Ji(v).styleCursor(!1).draggable({ignoreFrom:".mousedrag",listeners:{move:w=>{dn(vn,g+=w.dx,g),dn(hn,p+=w.dy,p)}}}).gesturable({onmove:w=>{const S=s+w.ds;hi(S,{x:w.clientX,y:w.clientY})}}),nu()?await ru():await iu("io")}),document.addEventListener("keydown",w=>{w.ctrlKey&&w.key==="s"&&(w.preventDefault(),ta())});let h={};ke.subscribe(w=>{u(0,h=w)});let v;function b(w){if(Hl(w,"scroll"))return;const S=s*(1-Math.sign(w.deltaY)*.1);hi(S,{x:w.clientX,y:w.clientY})}function P(w,S){i.$$.not_equal(S.state,w)&&(S.state=w)}function T(w){me[w?"unshift":"push"](()=>{v=w,u(1,v)})}return[h,v,s,p,g,b,P,T]}class Su extends Ce{constructor(a){super(),Ae(this,a,Eu,xu,Pe,{})}}function ku(i){let a,u,s;return u=new Su({}),{c(){a=Z("main"),de(u.$$.fragment),G(a,"class","svelte-oo04ug")},m(p,g){ee(p,a,g),ce(u,a,null),s=!0},p:je,i(p){s||(F(u.$$.fragment,p),s=!0)},o(p){B(u.$$.fragment,p),s=!1},d(p){p&&Q(a),fe(u)}}}class ju extends Ce{constructor(a){super(),Ae(this,a,null,ku,Pe,{})}}new ju({target:document.getElementById("app")});export{pl as A,Te as B,U as C,ft as D,Cl as E,rt as F,dt as G,Bt as H,Ie as I,De as J,Ft as K,di as L,tu as M,tr as N,Au as O,vl as P,Cu as Q,Mu as R,Ce as S,zu as T,Ru as U,al as V,fi as W,qe as X,mn as Y,fl as Z,Ji as _,G as a,ee as b,me as c,Q as d,Z as e,de as f,B as g,fe as h,Ae as i,Be as j,Ee as k,ct as l,ce as m,je as n,Xi as o,nl as p,Se as q,il as r,Pe as s,F as t,ol as u,rl as v,ke as w,Du as x,Me as y,Iu as z};
